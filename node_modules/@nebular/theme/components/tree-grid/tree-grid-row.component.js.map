{"version":3,"file":"tree-grid-row.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/tree-grid/tree-grid-row.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { ChangeDetectionStrategy, Component, ElementRef, HostListener, Inject, Input, OnDestroy } from '@angular/core';\nimport { Subject, timer } from 'rxjs';\nimport { take, takeUntil } from 'rxjs/operators';\nimport {\n  NbCdkFooterRow,\n  NbCdkHeaderRow,\n  NbCdkRow,\n  NbFooterRowComponent,\n  NbHeaderRowComponent,\n  NbRowComponent,\n} from '../cdk/table';\nimport { NbTreeGridComponent } from './tree-grid.component';\nimport { NB_TREE_GRID } from './tree-grid-injection-tokens';\n\nexport const NB_ROW_DOUBLE_CLICK_DELAY: number = 200;\n\n/**\n * Cells container. Adds the right class and role.\n */\n@Component({\n  selector: 'tr[nbTreeGridRow]',\n  template: `<ng-container nbCellOutlet></ng-container>`,\n  host: {\n    'class': 'nb-tree-grid-row',\n    'role': 'row',\n  },\n  providers: [{ provide: NbCdkRow, useExisting: NbTreeGridRowComponent }],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbTreeGridRowComponent extends NbRowComponent implements OnDestroy {\n  private readonly doubleClick$ = new Subject();\n  private readonly tree: NbTreeGridComponent<any>;\n\n  /**\n   * Time to wait for second click to expand row deeply.\n   * 200ms by default.\n   */\n  @Input() doubleClickDelay: number = NB_ROW_DOUBLE_CLICK_DELAY;\n\n  /**\n   * Toggle row on click. Enabled by default.\n   */\n  @Input() clickToToggle: boolean = true;\n\n  @HostListener('click')\n  toggleIfEnabledNode(): void {\n    if (!this.clickToToggle) {\n      return;\n    }\n\n    timer(NB_ROW_DOUBLE_CLICK_DELAY)\n      .pipe(\n        take(1),\n        takeUntil(this.doubleClick$),\n      )\n      .subscribe(() => this.tree.toggleRow(this));\n  }\n\n  @HostListener('dblclick')\n  toggleIfEnabledNodeDeep() {\n    if (!this.clickToToggle) {\n      return;\n    }\n\n    this.doubleClick$.next();\n    this.tree.toggleRow(this, { deep: true });\n  }\n\n  constructor(\n    @Inject(NB_TREE_GRID) tree,\n    public elementRef: ElementRef<HTMLElement>,\n  ) {\n    super();\n    this.tree = tree as NbTreeGridComponent<any>;\n  }\n\n  ngOnDestroy() {\n    this.doubleClick$.complete();\n  }\n}\n\n@Component({\n  selector: 'tr[nbTreeGridHeaderRow]',\n  template: `\n    <ng-container nbCellOutlet></ng-container>`,\n  host: {\n    'class': 'nb-tree-grid-header-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [{ provide: NbCdkHeaderRow, useExisting: NbTreeGridHeaderRowComponent }],\n})\nexport class NbTreeGridHeaderRowComponent extends NbHeaderRowComponent {}\n\n@Component({\n  selector: 'tr[nbTreeGridFooterRow]',\n  template: `\n    <ng-container nbCellOutlet></ng-container>`,\n  host: {\n    'class': 'nb-tree-grid-footer-row',\n    'role': 'row',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [{ provide: NbCdkFooterRow, useExisting: NbTreeGridFooterRowComponent }],\n})\nexport class NbTreeGridFooterRowComponent extends NbFooterRowComponent {}\n"]}