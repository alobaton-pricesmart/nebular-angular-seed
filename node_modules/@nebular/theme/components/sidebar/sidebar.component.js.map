{"version":3,"file":"sidebar.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/sidebar/sidebar.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Component, HostBinding, Input, OnInit, OnDestroy, ElementRef, OnChanges } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { takeWhile } from 'rxjs/operators';\n\nimport { convertToBoolProperty } from '../helpers';\nimport { NbThemeService } from '../../services/theme.service';\nimport { NbMediaBreakpoint } from '../../services/breakpoints.service';\nimport { NbSidebarService } from './sidebar.service';\n\n\n/**\n * Sidebar header container.\n *\n * Placeholder which contains a sidebar header content,\n * placed at the very top of the sidebar outside of the scroll area.\n */\n@Component({\n  selector: 'nb-sidebar-header',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class NbSidebarHeaderComponent {\n}\n\n/**\n * Sidebar footer container.\n *\n * Placeholder which contains a sidebar footer content,\n * placed at the very bottom of the sidebar outside of the scroll area.\n */\n@Component({\n  selector: 'nb-sidebar-footer',\n  template: `\n    <ng-content></ng-content>\n  `,\n})\nexport class NbSidebarFooterComponent {\n}\n\n/**\n * Layout sidebar component.\n *\n * @stacked-example(Showcase, sidebar/sidebar-showcase.component)\n *\n * ### Installation\n *\n * Import `NbSidebarModule.forRoot()` to your app module.\n * ```ts\n * @NgModule({\n *   imports: [\n *   \t// ...\n *     NbSidebarModule.forRoot(),\n *   ],\n * })\n * export class AppModule { }\n * ```\n * and `NbSidebarModule` to your feature module where the component should be shown:\n * ```ts\n * @NgModule({\n *   imports: [\n *   \t// ...\n *     NbSidebarModule,\n *   ],\n * })\n * export class PageModule { }\n * ```\n * ### Usage\n *\n * Sidebar can be placed on the left or the right side of the layout,\n * or on start/end position of layout (depends on document direction, left to right or right to left)\n * It can be fixed (shown above the content) or can push the layout when opened.\n *\n * There are three states - `expanded`, `collapsed`, `compacted`.\n * By default sidebar content is fixed and saves its position while the page is being scrolled.\n *\n * Compacted sidebar example:\n * @stacked-example(Compacted Sidebar, sidebar/sidebar-compacted.component)\n *\n * Sidebar also supports a `responsive` behavior, listening to window size change and changing its size respectably.\n *\n * In a pair with header it is possible to setup a configuration when header is placed on a side of the sidebar\n * and not on top of it. To achieve this simply put a `subheader` property to the header like this:\n * ```html\n * <nb-layout-header subheader></nb-layout-header>\n * ```\n * @stacked-example(Subheader, layout/layout-sidebar-subheader.component)\n * Note that in such configuration sidebar shadow is removed and header cannot be make `fixed`.\n *\n * @additional-example(Right Sidebar, sidebar/sidebar-right.component)\n * @additional-example(Fixed Sidebar, sidebar/sidebar-fixed.component)\n *\n * @styles\n *\n * sidebar-font-size: Sidebar content font size\n * sidebar-line-height: Sidebar content line height\n * sidebar-fg: Foreground color\n * sidebar-bg: Background color\n * sidebar-height: Content height\n * sidebar-width: Expanded width\n * sidebar-width-compact: Compacted width\n * sidebar-padding: Sidebar content padding\n * sidebar-header-height: Sidebar header height\n * sidebar-footer-height: Sidebar footer height\n * sidebar-shadow: Sidebar container shadow\n *\n */\n@Component({\n  selector: 'nb-sidebar',\n  styleUrls: ['./sidebar.component.css'],\n  template: `\n    <div class=\"main-container\"\n         [class.main-container-fixed]=\"containerFixedValue\">\n      <ng-content select=\"nb-sidebar-header\"></ng-content>\n      <div class=\"scrollable\" (click)=\"onClick($event)\">\n        <ng-content></ng-content>\n      </div>\n      <ng-content select=\"nb-sidebar-footer\"></ng-content>\n    </div>\n  `,\n})\nexport class NbSidebarComponent implements OnChanges, OnInit, OnDestroy {\n\n  static readonly STATE_EXPANDED: string = 'expanded';\n  static readonly STATE_COLLAPSED: string = 'collapsed';\n  static readonly STATE_COMPACTED: string = 'compacted';\n\n  static readonly RESPONSIVE_STATE_MOBILE: string = 'mobile';\n  static readonly RESPONSIVE_STATE_TABLET: string = 'tablet';\n  static readonly RESPONSIVE_STATE_PC: string = 'pc';\n\n  protected stateValue: string;\n  protected responsiveValue: boolean = false;\n\n  private alive = true;\n\n  containerFixedValue: boolean = true;\n\n  @HostBinding('class.fixed') fixedValue: boolean = false;\n  @HostBinding('class.right') rightValue: boolean = false;\n  @HostBinding('class.left') leftValue: boolean = true;\n  @HostBinding('class.start') startValue: boolean = false;\n  @HostBinding('class.end') endValue: boolean = false;\n\n  // TODO: rename stateValue to state (take a look to the card component)\n  @HostBinding('class.expanded')\n  get expanded() {\n    return this.stateValue === NbSidebarComponent.STATE_EXPANDED;\n  }\n  @HostBinding('class.collapsed')\n  get collapsed() {\n    return this.stateValue === NbSidebarComponent.STATE_COLLAPSED;\n  }\n  @HostBinding('class.compacted')\n  get compacted() {\n    return this.stateValue === NbSidebarComponent.STATE_COMPACTED;\n  }\n\n  /**\n   * Places sidebar on the right side\n   * @type {boolean}\n   */\n  @Input()\n  set right(val: boolean) {\n    this.rightValue = convertToBoolProperty(val);\n    this.leftValue = !this.rightValue;\n    this.startValue = false;\n    this.endValue = false;\n  }\n\n  /**\n   * Places sidebar on the left side\n   * @type {boolean}\n   */\n  @Input()\n  set left(val: boolean) {\n    this.leftValue = convertToBoolProperty(val);\n    this.rightValue = !this.leftValue;\n    this.startValue = false;\n    this.endValue = false;\n  }\n\n  /**\n   * Places sidebar on the start edge of layout\n   * @type {boolean}\n   */\n  @Input()\n  set start(val: boolean) {\n    this.startValue = convertToBoolProperty(val);\n    this.endValue = !this.startValue;\n    this.leftValue = false;\n    this.rightValue = false;\n  }\n\n  /**\n   * Places sidebar on the end edge of layout\n   * @type {boolean}\n   */\n  @Input()\n  set end(val: boolean) {\n    this.endValue = convertToBoolProperty(val);\n    this.startValue = !this.endValue;\n    this.leftValue = false;\n    this.rightValue = false;\n  }\n\n  /**\n   * Makes sidebar fixed (shown above the layout content)\n   * @type {boolean}\n   */\n  @Input()\n  set fixed(val: boolean) {\n    this.fixedValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Makes sidebar container fixed\n   * @type {boolean}\n   */\n  @Input()\n  set containerFixed(val: boolean) {\n    this.containerFixedValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Initial sidebar state, `expanded`|`collapsed`|`compacted`\n   * @type {string}\n   */\n  @Input()\n  set state(val: string) {\n    this.stateValue = val;\n  }\n\n  /**\n   * Makes sidebar listen to media query events and change its behaviour\n   * @type {boolean}\n   */\n  @Input()\n  set responsive(val: boolean) {\n    this.responsiveValue = convertToBoolProperty(val);\n  }\n\n  /**\n   * Tags a sidebar with some ID, can be later used in the sidebar service\n   * to determine which sidebar triggered the action, if multiple sidebars exist on the page.\n   *\n   * @type {string}\n   */\n  @Input() tag: string;\n\n  // TODO: get width by the key and define only max width for the tablets and mobiles\n  /**\n   * Controls on which screen sizes sidebar should be switched to compacted state.\n   * Works only when responsive mode is on.\n   * Default values are `['xs', 'is', 'sm', 'md', 'lg']`.\n   *\n   * @type string[]\n   */\n  @Input() compactedBreakpoints: string[] = ['xs', 'is', 'sm', 'md', 'lg'];\n\n  /**\n   * Controls on which screen sizes sidebar should be switched to collapsed state.\n   * Works only when responsive mode is on.\n   * Default values are `['xs', 'is']`.\n   *\n   * @type string[]\n   */\n  @Input() collapsedBreakpoints: string[] = ['xs', 'is'];\n\n  private mediaQuerySubscription: Subscription;\n  private responsiveState = NbSidebarComponent.RESPONSIVE_STATE_PC;\n\n  constructor(private sidebarService: NbSidebarService,\n    private themeService: NbThemeService,\n    private element: ElementRef) {\n  }\n\n  toggleResponsive(enabled: boolean) {\n    if (enabled) {\n      this.mediaQuerySubscription = this.onMediaQueryChanges();\n    } else if (this.mediaQuerySubscription) {\n      this.mediaQuerySubscription.unsubscribe();\n    }\n  }\n\n  ngOnChanges(changes) {\n    if (changes.responsive) {\n      this.toggleResponsive(this.responsiveValue);\n    }\n  }\n\n  ngOnInit() {\n    this.sidebarService.onToggle()\n      .pipe(takeWhile(() => this.alive))\n      .subscribe((data: { compact: boolean, tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.toggle(data.compact);\n        }\n      });\n\n    this.sidebarService.onExpand()\n      .pipe(takeWhile(() => this.alive))\n      .subscribe((data: { tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.expand();\n        }\n      });\n\n    this.sidebarService.onCollapse()\n      .pipe(takeWhile(() => this.alive))\n      .subscribe((data: { tag: string }) => {\n        if (!this.tag || this.tag === data.tag) {\n          this.collapse();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    this.alive = false;\n    if (this.mediaQuerySubscription) {\n      this.mediaQuerySubscription.unsubscribe();\n    }\n  }\n\n  // TODO: this is more of a workaround, should be a better way to make components communicate to each other\n  onClick(event): void {\n    const menu = this.element.nativeElement.querySelector('nb-menu');\n\n    if (menu && menu.contains(event.target)) {\n      let link = event.target;\n      const linkChildren = ['span', 'i'];\n\n      // if we clicked on span - get the link\n      if (linkChildren.includes(link.tagName.toLowerCase()) && link.parentNode) {\n        link = event.target.parentNode;\n      }\n\n      // we only expand if an item has children\n      if (link && link.nextElementSibling && link.nextElementSibling.classList.contains('menu-items')) {\n        this.expand();\n      }\n    }\n  }\n\n  /**\n   * Collapses the sidebar\n   */\n  collapse() {\n    this.state = NbSidebarComponent.STATE_COLLAPSED;\n  }\n\n  /**\n   * Expands the sidebar\n   */\n  expand() {\n    this.state = NbSidebarComponent.STATE_EXPANDED;\n  }\n\n  /**\n   * Compacts the sidebar (minimizes)\n   */\n  compact() {\n    this.state = NbSidebarComponent.STATE_COMPACTED;\n  }\n\n  /**\n   * Toggles sidebar state (expanded|collapsed|compacted)\n   * @param {boolean} compact If true, then sidebar state will be changed between expanded & compacted,\n   * otherwise - between expanded & collapsed. False by default.\n   *\n   * Toggle sidebar state\n   *\n   * ```ts\n   * this.sidebar.toggle(true);\n   * ```\n   */\n  toggle(compact: boolean = false) {\n    if (this.responsiveEnabled()) {\n      if (this.responsiveState === NbSidebarComponent.RESPONSIVE_STATE_MOBILE) {\n        compact = false;\n      }\n    }\n\n    const closedStates = [NbSidebarComponent.STATE_COMPACTED, NbSidebarComponent.STATE_COLLAPSED];\n    if (compact) {\n      this.state = closedStates.includes(this.stateValue) ?\n        NbSidebarComponent.STATE_EXPANDED : NbSidebarComponent.STATE_COMPACTED;\n    } else {\n      this.state = closedStates.includes(this.stateValue) ?\n        NbSidebarComponent.STATE_EXPANDED : NbSidebarComponent.STATE_COLLAPSED;\n    }\n  }\n\n  protected onMediaQueryChanges(): Subscription {\n    return this.themeService.onMediaQueryChange()\n      .subscribe(([prev, current]: [NbMediaBreakpoint, NbMediaBreakpoint]) => {\n\n        const isCollapsed = this.collapsedBreakpoints.includes(current.name);\n        const isCompacted = this.compactedBreakpoints.includes(current.name);\n\n        if (isCompacted) {\n          this.fixed = this.containerFixedValue;\n          this.compact();\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_TABLET;\n        }\n        if (isCollapsed) {\n          this.fixed = true;\n          this.collapse();\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_MOBILE;\n        }\n        if (!isCollapsed && !isCompacted && prev.width < current.width) {\n          this.expand();\n          this.fixed = false;\n          this.responsiveState = NbSidebarComponent.RESPONSIVE_STATE_PC;\n        }\n      });\n  }\n\n  protected responsiveEnabled(): boolean {\n    return this.responsiveValue;\n  }\n}\n"]}