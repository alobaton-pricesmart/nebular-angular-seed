{"version":3,"file":"popover.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/popover/popover.component.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;;;;;;;;;;;;;;;;;;;;;;AAEH,OAAO,EACL,SAAS,EACT,wBAAwB,EACxB,KAAK,EACL,WAAW,EACX,IAAI,EACJ,SAAS,GACV,MAAM,eAAe,CAAC;AACvB,OAAO,EACL,iBAAiB,EACjB,2BAA2B,EAC3B,qBAAqB,EAErB,gBAAgB,GACjB,MAAM,QAAQ,CAAC;AAGhB;;;;;;;;;;KAUK;AASL;IAAwC,sCAAqB;IAA7D;;IAyCA,CAAC;IAlCC,0CAAa,GAAb;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAES,0CAAa,GAAvB;QACE,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;IACjC,CAAC;IAES,0CAAa,GAAvB;QACE,IAAI,IAAI,CAAC,OAAO,YAAY,WAAW,EAAE;YACvC,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;aAAM,IAAI,IAAI,CAAC,OAAO,YAAY,IAAI,EAAE;YACvC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM;YACL,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;IACH,CAAC;IAES,2CAAc,GAAxB;QACE,IAAI,CAAC,gBAAgB;aAClB,oBAAoB,CAAC,IAAI,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAO,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACtG,CAAC;IAES,4CAAe,GAAzB;QACE,IAAM,MAAM,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QACzE,IAAM,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;QAChE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1C,GAAG,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;IACxC,CAAC;IAES,yCAAY,GAAtB;QACE,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC1D,CAAC;IAvCuC;QAAvC,SAAS,CAAC,2BAA2B,CAAC;kCAAmB,2BAA2B;gEAAC;IAE7E;QAAR,KAAK,EAAE;;uDAAc;IACb;QAAR,KAAK,EAAE;kCAAU,MAAM;uDAAC;IAChB;QAAR,KAAK,EAAE;kCAAM,wBAAwB;mDAAC;IAL5B,kBAAkB;QAR9B,SAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,SAAS,EAAE,CAAC,yBAAyB,CAAC;YACtC,QAAQ,EAAE,4FAGT;SACF,CAAC;OACW,kBAAkB,CAyC9B;IAAD,yBAAC;CAAA,AAzCD,CAAwC,qBAAqB,GAyC5D;SAzCY,kBAAkB","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  Component,\n  ComponentFactoryResolver,\n  Input,\n  TemplateRef,\n  Type,\n  ViewChild,\n} from '@angular/core';\nimport {\n  NbComponentPortal,\n  NbOverlayContainerComponent,\n  NbPositionedContainer,\n  NbRenderableContainer,\n  NbTemplatePortal,\n} from '../cdk';\n\n\n/**\n * Overlay container.\n * Renders provided content inside.\n *\n * @styles\n *\n * popover-fg\n * popover-bg\n * popover-border\n * popover-shadow\n * */\n@Component({\n  selector: 'nb-popover',\n  styleUrls: ['./popover.component.css'],\n  template: `\n    <span class=\"arrow\"></span>\n    <nb-overlay-container></nb-overlay-container>\n  `,\n})\nexport class NbPopoverComponent extends NbPositionedContainer implements NbRenderableContainer {\n  @ViewChild(NbOverlayContainerComponent) overlayContainer: NbOverlayContainerComponent;\n\n  @Input() content: any;\n  @Input() context: Object;\n  @Input() cfr: ComponentFactoryResolver;\n\n  renderContent() {\n    this.detachContent();\n    this.attachContent();\n  }\n\n  protected detachContent() {\n    this.overlayContainer.detach();\n  }\n\n  protected attachContent() {\n    if (this.content instanceof TemplateRef) {\n      this.attachTemplate();\n    } else if (this.content instanceof Type) {\n      this.attachComponent();\n    } else {\n      this.attachString();\n    }\n  }\n\n  protected attachTemplate() {\n    this.overlayContainer\n      .attachTemplatePortal(new NbTemplatePortal(this.content, null, <any>{ $implicit: this.context }));\n  }\n\n  protected attachComponent() {\n    const portal = new NbComponentPortal(this.content, null, null, this.cfr);\n    const ref = this.overlayContainer.attachComponentPortal(portal);\n    Object.assign(ref.instance, this.context);\n    ref.changeDetectorRef.detectChanges();\n  }\n\n  protected attachString() {\n    this.overlayContainer.attachStringContent(this.content);\n  }\n}\n"]}