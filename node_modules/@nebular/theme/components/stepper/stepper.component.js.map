{"version":3,"file":"stepper.component.js","sourceRoot":"","sources":["../../../../../.ng_build/theme/components/stepper/stepper.component.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  Component,\n  ContentChildren, HostBinding,\n  Input,\n  QueryList,\n} from '@angular/core';\nimport { convertToBoolProperty } from '../helpers';\nimport { NbStepComponent } from './step.component';\n\nexport enum NbStepperOrientation {\n  VERTICAL = 'vertical',\n  HORIZONTAL = 'horizontal',\n}\n\n/**\n * Stepper component\n *\n * @stacked-example(Showcase, stepper/stepper-showcase.component)\n *\n * ### Installation\n *\n * Import `NbStepperModule` to your feature module.\n * ```ts\n * @NgModule({\n *   imports: [\n *   \t// ...\n *     NbStepperModule,\n *   ],\n * })\n * export class PageModule { }\n * ```\n * ### Usage\n *\n * If step label is string you can pass it as `label` attribute. Otherwise ng-template should be used:\n * ```html\n * // ...\n * <nb-stepper orientation=\"horizontal\">\n *   <nb-step label=\"step number one\">\n *       // ... step content here\n *   <nb-step>\n *   <nb-step label=\"stepLabel\">\n *       <ng-template #stepLabel>\n *           <div>\n *               step number two\n *           </div>\n *       </ng-template>\n *       // ... step content here\n *   <nb-step>\n * </nb-stepper>\n * ```\n *\n * When linear mode enabled user can't move forward unless current step is complete.\n * @stacked-example(Linear, stepper/stepper-linear.component)\n *\n * Specify `[stepControl]=\"form\"` and stepper allow go to the next step only if form is valid.\n * You can disable it via `linear` mode setting.\n * ```html\n * // ...\n * <nb-stepper  orientation=\"horizontal\">\n *   <nb-step label=\"step number one\" [stepControl]=\"form\">\n *     <form [formGroup]=\"form\">\n *       // ...\n *     </form>\n *   <nb-step>\n *    // ...\n * </nb-stepper>\n * ```\n *\n * @stacked-example(Validation, stepper/stepper-validation.component)\n *\n * Stepper component has two layout options - `vertical` & `horizontal`\n * @stacked-example(Vertical, stepper/stepper-vertical.component)\n *\n * `disableStepNavigation` disables navigation by clicking on steps, so user can navigate only using\n * 'nbStepperPrevious' and 'nbStepperNext' buttons.\n * @stacked-example(Disabled steps navigation, stepper/stepper-disabled-step-nav.component)\n *\n * @styles\n *\n * stepper-index-size:\n * stepper-label-font-size:\n * stepper-label-font-weight:\n * stepper-accent-color:\n * stepper-completed-fg:\n * stepper-fg:\n * stepper-completed-icon-size:\n * stepper-completed-icon-weight:\n */\n@Component({\n  selector: 'nb-stepper',\n  styleUrls: ['./stepper.component.css'],\n  templateUrl: './stepper.component.html',\n})\nexport class NbStepperComponent {\n\n  @ContentChildren(NbStepComponent) steps: QueryList<NbStepComponent>;\n\n  @HostBinding('class.vertical')\n  get vertical() {\n    return this.orientation === NbStepperOrientation.VERTICAL;\n  }\n\n  @HostBinding('class.horizontal')\n  get horizontal() {\n    return this.orientation === NbStepperOrientation.HORIZONTAL;\n  }\n\n  /**\n   * Selected step index\n   *\n   * @type {boolean}\n   */\n  @Input()\n  get selectedIndex() {\n    return this.index;\n  }\n\n  set selectedIndex(index: number) {\n    if (!this.steps) {\n      this.index = index;\n      return;\n    }\n\n    this.markCurrentStepInteracted();\n    if (this.canBeSelected(index)) {\n      this.index = index;\n    }\n  }\n\n  /**\n   * Disables navigation by clicking on steps. False by default\n   * @param {boolean} value\n   */\n  @Input()\n  set disableStepNavigation(value: boolean) {\n    this.disableStepNavigationValue = convertToBoolProperty(value);\n  }\n  get disableStepNavigation(): boolean {\n    return this.disableStepNavigationValue;\n  }\n  disableStepNavigationValue: boolean = false;\n\n  /**\n   * Selected step component\n   *\n   * @type {boolean}\n   */\n  @Input()\n  get selected(): NbStepComponent | undefined {\n    return this.steps ? this.steps.toArray()[this.selectedIndex] : undefined;\n  }\n\n  set selected(step: NbStepComponent) {\n    if (!this.steps) {\n      return;\n    }\n    this.selectedIndex = this.steps.toArray().indexOf(step);\n  }\n\n  /**\n   * Stepper orientation - `horizontal`|`vertical`\n   * @type {string}\n   */\n  @Input() orientation: string = NbStepperOrientation.HORIZONTAL;\n\n  /**\n   * Allow moving forward only if the current step is complete\n   * @default true\n   */\n  @Input()\n  set linear(value: boolean) {\n    this.linearValue = convertToBoolProperty(value);\n  }\n  get linear(): boolean {\n    return this.linearValue;\n  }\n  private linearValue = true;\n\n  private index = 0;\n\n  /**\n   * Navigate to next step\n   * */\n  next() {\n    this.selectedIndex = Math.min(this.selectedIndex + 1, this.steps.length - 1);\n  }\n\n  /**\n   * Navigate to previous step\n   * */\n  previous() {\n    this.selectedIndex = Math.max(this.selectedIndex - 1, 0);\n  }\n\n  /**\n   * Reset stepper and stepControls to initial state\n   * */\n  reset() {\n    this.index = 0;\n    this.steps.forEach(step => step.reset());\n  }\n\n  isStepSelected(step: NbStepComponent) {\n    return this.selected === step;\n  }\n\n  private isStepValid(index: number): boolean {\n    return this.steps.toArray()[index].completed;\n  }\n\n  private canBeSelected(indexToCheck: number): boolean {\n    const noSteps = !this.steps || this.steps.length === 0;\n    if (noSteps || indexToCheck < 0 || indexToCheck >= this.steps.length) {\n      return false;\n    }\n\n    if (indexToCheck <= this.selectedIndex || !this.linear) {\n      return true;\n    }\n\n    let isAllStepsValid = true;\n    for (let i = this.selectedIndex; i < indexToCheck; i++) {\n      if (!this.isStepValid(i)) {\n        isAllStepsValid = false;\n        break;\n      }\n    }\n    return isAllStepsValid;\n  }\n\n  private markCurrentStepInteracted() {\n    if (this.selected) {\n      this.selected.interacted = true;\n    }\n  }\n}\n"]}