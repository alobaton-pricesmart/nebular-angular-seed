{"version":3,"file":"auth.module.js","sourceRoot":"","sources":["../../../.ng_build/auth/auth.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injector, ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { HttpRequest } from '@angular/common/http';\n\nimport {\n  NbAlertModule,\n  NbButtonModule,\n  NbCardModule,\n  NbCheckboxModule,\n  NbInputModule,\n  NbLayoutModule,\n} from '@nebular/theme';\n\nimport {\n  NB_AUTH_FALLBACK_TOKEN,\n  NbAuthService,\n  NbAuthSimpleToken,\n  NbAuthTokenClass,\n  NbAuthTokenParceler,\n  NbTokenLocalStorage,\n  NbTokenService,\n  NbTokenStorage,\n} from './services';\nimport {\n  NbAuthStrategy,\n  NbAuthStrategyOptions,\n  NbDummyAuthStrategy,\n  NbOAuth2AuthStrategy,\n  NbPasswordAuthStrategy,\n} from './strategies';\n\nimport {\n  defaultAuthOptions,\n  NB_AUTH_INTERCEPTOR_HEADER,\n  NB_AUTH_OPTIONS,\n  NB_AUTH_STRATEGIES,\n  NB_AUTH_TOKEN_INTERCEPTOR_FILTER,\n  NB_AUTH_TOKENS,\n  NB_AUTH_USER_OPTIONS,\n  NbAuthOptions,\n  NbAuthStrategyClass,\n} from './auth.options';\n\nimport { NbAuthComponent } from './components/auth.component';\n\nimport { NbAuthBlockComponent } from './components/auth-block/auth-block.component';\nimport { NbLoginComponent } from './components/login/login.component';\nimport { NbRegisterComponent } from './components/register/register.component';\nimport { NbLogoutComponent } from './components/logout/logout.component';\nimport { NbRequestPasswordComponent } from './components/request-password/request-password.component';\nimport { NbResetPasswordComponent } from './components/reset-password/reset-password.component';\n\nimport { deepExtend } from './helpers';\n\nexport function nbStrategiesFactory(options: NbAuthOptions, injector: Injector): NbAuthStrategy[] {\n  const strategies = [];\n  options.strategies\n    .forEach(([strategyClass, strategyOptions]: [NbAuthStrategyClass, NbAuthStrategyOptions]) => {\n      const strategy: NbAuthStrategy = injector.get(strategyClass);\n      strategy.setOptions(strategyOptions);\n\n      strategies.push(strategy);\n    });\n  return strategies;\n}\n\nexport function nbTokensFactory(strategies: NbAuthStrategy[]): NbAuthTokenClass[] {\n  const tokens = [];\n  strategies\n    .forEach((strategy: NbAuthStrategy) => {\n      tokens.push(strategy.getOption('token.class'));\n    });\n  return tokens;\n}\n\nexport function nbOptionsFactory(options) {\n  return deepExtend(defaultAuthOptions, options);\n}\n\nexport function nbNoOpInterceptorFilter(req: HttpRequest<any>): boolean {\n  return true;\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    NbLayoutModule,\n    NbCardModule,\n    NbCheckboxModule,\n    NbAlertModule,\n    NbInputModule,\n    NbButtonModule,\n    RouterModule,\n    FormsModule,\n  ],\n  declarations: [\n    NbAuthComponent,\n    NbAuthBlockComponent,\n    NbLoginComponent,\n    NbRegisterComponent,\n    NbRequestPasswordComponent,\n    NbResetPasswordComponent,\n    NbLogoutComponent,\n  ],\n  exports: [\n    NbAuthComponent,\n    NbAuthBlockComponent,\n    NbLoginComponent,\n    NbRegisterComponent,\n    NbRequestPasswordComponent,\n    NbResetPasswordComponent,\n    NbLogoutComponent,\n  ],\n})\nexport class NbAuthModule {\n  static forRoot(nbAuthOptions?: NbAuthOptions): ModuleWithProviders {\n    return <ModuleWithProviders> {\n      ngModule: NbAuthModule,\n      providers: [\n        { provide: NB_AUTH_USER_OPTIONS, useValue: nbAuthOptions },\n        { provide: NB_AUTH_OPTIONS, useFactory: nbOptionsFactory, deps: [NB_AUTH_USER_OPTIONS] },\n        { provide: NB_AUTH_STRATEGIES, useFactory: nbStrategiesFactory, deps: [NB_AUTH_OPTIONS, Injector] },\n        { provide: NB_AUTH_TOKENS, useFactory: nbTokensFactory, deps: [NB_AUTH_STRATEGIES] },\n        { provide: NB_AUTH_FALLBACK_TOKEN, useValue: NbAuthSimpleToken },\n        { provide: NB_AUTH_INTERCEPTOR_HEADER, useValue: 'Authorization' },\n        { provide: NB_AUTH_TOKEN_INTERCEPTOR_FILTER, useValue: nbNoOpInterceptorFilter },\n        { provide: NbTokenStorage, useClass: NbTokenLocalStorage },\n        NbAuthTokenParceler,\n        NbAuthService,\n        NbTokenService,\n        NbDummyAuthStrategy,\n        NbPasswordAuthStrategy,\n        NbOAuth2AuthStrategy,\n      ],\n    };\n  }\n}\n"]}