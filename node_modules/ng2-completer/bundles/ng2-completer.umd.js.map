{"version":3,"file":"ng2-completer.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../src/globals.ts","../../../src/services/completer-base-data.ts","../../../src/services/local-data.ts","../../../src/services/remote-data.ts","../../../src/services/local-data-factory.ts","../../../src/services/remote-data-factory.ts","../../../src/services/completer-service.ts","../../../src/directives/ctr-completer.ts","../../../src/directives/ctr-dropdown.ts","../../../src/directives/ctr-input.ts","../../../src/directives/ctr-list.ts","../../../src/directives/ctr-row.ts","../../../src/components/completer-list-item-cmp.ts","../../../src/components/completer-cmp.ts","../../../src/modules/ng2-completer.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","\nexport const MAX_CHARS = 524288;  // the default max length per the html maxlength attribute\nexport const MIN_SEARCH_LENGTH = 3;\nexport const PAUSE = 10;\nexport const TEXT_SEARCHING = \"Searching...\";\nexport const TEXT_NO_RESULTS = \"No results found\";\nexport const CLEAR_TIMEOUT = 50;\n\nexport function isNil(value: any) {\n    return typeof value === \"undefined\" || value === null;\n}\n","import { Subject } from \"rxjs/Subject\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CompleterData } from \"./completer-data\";\nimport { isNil } from \"../globals\";\n\nexport abstract class CompleterBaseData extends Subject<CompleterItem[] | null> implements CompleterData {\n\n    protected _searchFields: string | null;\n    protected _titleField: string | null;\n    protected _descriptionField: string;\n    protected _imageField: string;\n\n    constructor() {\n        super();\n    }\n\n    public abstract search(term: string): void;\n\n    public cancel() {\n        return;\n    }\n\n    public searchFields(searchFields: string | null) {\n        this._searchFields = searchFields;\n        return this;\n    }\n\n    public titleField(titleField: string | null) {\n        this._titleField = titleField;\n        return this;\n    }\n\n    public descriptionField(descriptionField: string) {\n        this._descriptionField = descriptionField;\n        return this;\n    }\n\n    public imageField(imageField: string) {\n        this._imageField = imageField;\n        return this;\n    }\n\n    public convertToItem(data: any) {\n        let image: string | null = null;\n        let formattedText: string;\n        let formattedDesc: string | null = null;\n\n        if (this._titleField) {\n            formattedText = this.extractTitle(data);\n        } else {\n            formattedText = data;\n        }\n\n        if (typeof formattedText !== \"string\") {\n            formattedText = JSON.stringify(formattedText);\n        }\n\n        if (this._descriptionField) {\n            formattedDesc = this.extractValue(data, this._descriptionField);\n        }\n\n        if (this._imageField) {\n            image = this.extractValue(data, this._imageField);\n        }\n\n        if (isNil(formattedText)) {\n            return null;\n        }\n\n        return {\n            description: formattedDesc,\n            image,\n            originalObject: data,\n            title: formattedText\n        } as CompleterItem;\n\n    }\n\n    protected extractMatches(data: any[], term: string) {\n        let matches: any[] = [];\n        const searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\n        if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\n            matches = data.filter((item) => {\n                const values: any[] = searchFields ? this.extractBySearchFields(searchFields, item) : [item];\n                return values.some((value) => value\n                    .toString()\n                    .toLowerCase()\n                    .indexOf(term.toString().toLowerCase()) >= 0\n                );\n            });\n        } else {\n            matches = data;\n        }\n\n        return matches;\n    }\n\n    protected extractTitle(item: any) {\n        // split title fields and run extractValue for each and join with ' '\n        if (!this._titleField) {\n            return \"\";\n        }\n\n        return this._titleField.split(\",\")\n            .map((field) => {\n                return this.extractValue(item, field);\n            })\n            .reduce((acc, titlePart) => acc ? `${acc} ${titlePart}` : titlePart);\n    }\n\n    protected extractValue(obj: any, key: string | null) {\n        let keys: string[];\n        let result: any;\n        if (key) {\n            keys = key.split(\".\");\n            result = obj;\n            for (key of keys) {\n                if (result) {\n                    result = result[key];\n                }\n            }\n        } else {\n            result = obj;\n        }\n        return result;\n    }\n\n    protected processResults(matches: string[]): CompleterItem[] {\n        let i: number;\n        const results: CompleterItem[] = [];\n\n        if (matches && matches.length > 0) {\n            for (i = 0; i < matches.length; i++) {\n                const item = this.convertToItem(matches[i]);\n                if (item) {\n                    results.push(item);\n                }\n            }\n        }\n        return results;\n    }\n\n    private extractBySearchFields(searchFields: string[], item: any) {\n        return searchFields\n            .map((searchField) => this.extractValue(item, searchField)).filter((value) => !!value);\n    }\n}\n","import { EventEmitter } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { catchError } from \"rxjs/operators\";\n\nimport { CompleterBaseData } from \"./completer-base-data\";\nimport { CompleterItem } from \"../components/completer-item\";\n\nexport class LocalData extends CompleterBaseData {\n\n    public dataSourceChange: EventEmitter<void> = new EventEmitter<void>();\n\n    protected _data: any[];\n    protected savedTerm: string | null;\n\n    constructor() {\n        super();\n    }\n\n    public data(data: any[] | Observable<any[]>) {\n        if (data instanceof Observable) {\n            const data$ = data as Observable<any[]>;\n            data$\n                .pipe(catchError(() => []))\n                .subscribe((res) => {\n                    this._data = res;\n                    if (this.savedTerm) {\n                        this.search(this.savedTerm);\n                    }\n                    this.dataSourceChange.emit();\n                });\n        } else {\n            this._data = data;\n        }\n\n        this.dataSourceChange.emit();\n\n        return this;\n    }\n\n    public search(term: string): void {\n        if (!this._data) {\n            this.savedTerm = term;\n        } else {\n            this.savedTerm = null;\n            const matches: any[] = this.extractMatches(this._data, term);\n            this.next(this.processResults(matches));\n        }\n    }\n\n    public convertToItem(data: any): CompleterItem | null {\n        return super.convertToItem(data);\n    }\n}\n","import { EventEmitter } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { catchError, map } from \"rxjs/operators\";\n\nimport { CompleterBaseData } from \"./completer-base-data\";\nimport { CompleterItem } from \"../components/completer-item\";\n\nexport class RemoteData extends CompleterBaseData {\n    public dataSourceChange: EventEmitter<void> = new EventEmitter<void>();\n\n    private _remoteUrl: string | null;\n    private remoteSearch: Subscription;\n    private _urlFormater: ((term: string) => string) | null = null;\n    private _dataField: string | null = null;\n    private _requestOptions: any;\n\n    constructor(private http: HttpClient) {\n        super();\n    }\n\n    public remoteUrl(remoteUrl: string | null) {\n        this._remoteUrl = remoteUrl;\n        this.dataSourceChange.emit();\n\n        return this;\n    }\n\n    public urlFormater(urlFormater: (term: string) => string) {\n        this._urlFormater = urlFormater;\n    }\n\n    public dataField(dataField: string) {\n        this._dataField = dataField;\n    }\n\n    public requestOptions(requestOptions: any) {\n        this._requestOptions = requestOptions;\n    }\n\n    public search(term: string): void {\n        this.cancel();\n        // let params = {};\n        let url = \"\";\n        if (this._urlFormater) {\n            url = this._urlFormater(term);\n        } else {\n            url = this._remoteUrl + encodeURIComponent(term);\n        }\n\n        this.remoteSearch = this.http\n            .get(url, Object.assign({}, this._requestOptions))\n            .pipe(\n                map((data: any) => {\n                    const matches = this.extractValue(data, this._dataField);\n                    return this.extractMatches(matches, term);\n                }),\n                catchError(() => [])\n            )\n            .subscribe((matches: any[]) => {\n                const results = this.processResults(matches);\n                this.next(results);\n            });\n    }\n\n    public cancel() {\n        if (this.remoteSearch) {\n            this.remoteSearch.unsubscribe();\n        }\n    }\n\n    public convertToItem(data: any): CompleterItem | null {\n        return super.convertToItem(data);\n    }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { LocalData } from \"./local-data\";\n\n@Injectable()\nexport class LocalDataFactory {\n    public create() {\n        return new LocalData();\n    }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { HttpClient } from \"@angular/common/http\";\n\nimport { RemoteData } from \"./remote-data\";\n\n@Injectable()\nexport class RemoteDataFactory {\n    constructor(private http: HttpClient) { }\n\n    public create() {\n        return new RemoteData(this.http);\n    }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\n\nimport { LocalData } from \"./local-data\";\nimport { RemoteData } from \"./remote-data\";\nimport { LocalDataFactory } from \"./local-data-factory\";\nimport { RemoteDataFactory } from \"./remote-data-factory\";\n\n@Injectable()\nexport class CompleterService {\n    constructor(\n        private localDataFactory: LocalDataFactory, // Using any instead of () => LocalData because of AoT errors\n        private remoteDataFactory: RemoteDataFactory // Using any instead of () => LocalData because of AoT errors\n    ) { }\n\n    public local(\n        data: any[] | Observable<any>,\n        searchFields: string | null = \"\",\n        titleField: string | null = \"\"\n    ): LocalData {\n\n        const localData = this.localDataFactory.create();\n        return localData\n            .data(data)\n            .searchFields(searchFields)\n            .titleField(titleField);\n    }\n\n    public remote(url: string | null, searchFields: string | null = \"\", titleField: string | null = \"\"): RemoteData {\n\n        const remoteData = this.remoteDataFactory.create();\n        return remoteData\n            .remoteUrl(url)\n            .searchFields(searchFields)\n            .titleField(titleField);\n    }\n}\n","import { Directive, EventEmitter, Output } from \"@angular/core\";\n\nimport { CompleterItem } from \"../components/completer-item\";\n\nexport interface CompleterList {\n    search(term: string): void;\n    open(): void;\n    isOpen(open: boolean): void;\n    clear(): void;\n}\n\nexport interface CompleterDropdown {\n    clear(): void;\n    selectCurrent(): void;\n    nextRow(): void;\n    prevRow(): void;\n    highlightRow(index: number | null): void;\n}\n\n@Directive({\n    selector: \"[ctrCompleter]\",\n})\nexport class CtrCompleter {\n    @Output() public selected = new EventEmitter<CompleterItem | null>();\n    @Output() public highlighted = new EventEmitter<CompleterItem | null>();\n    @Output() public opened = new EventEmitter<boolean>();\n    @Output() public dataSourceChange = new EventEmitter<void>();\n\n    private list: CompleterList;\n    private dropdown: CompleterDropdown | null;\n    private _hasHighlighted = false;\n    private _hasSelected = false;\n    private _cancelBlur = false;\n    private _isOpen = false;\n    private _autoHighlightIndex: number | null;\n\n    public registerList(list: CompleterList) {\n        this.list = list;\n    }\n\n    public registerDropdown(dropdown: CompleterDropdown | null) {\n        this.dropdown = dropdown;\n    }\n\n    public onHighlighted(item: CompleterItem | null) {\n        this.highlighted.emit(item);\n        this._hasHighlighted = !!item;\n    }\n\n    public onSelected(item: CompleterItem, clearList = true) {\n        this.selected.emit(item);\n        if (item) {\n            this._hasSelected = true;\n        }\n        if (clearList) {\n            this.clear();\n        }\n    }\n\n    public onDataSourceChange() {\n        if (this.hasSelected) {\n            this.selected.emit(null);\n            this._hasSelected = false;\n        }\n        this.dataSourceChange.emit();\n    }\n\n    public search(term: string) {\n        if (this._hasSelected) {\n            this.selected.emit(null);\n            this._hasSelected = false;\n        }\n        if (this.list) {\n            this.list.search(term);\n        }\n    }\n\n    public clear() {\n        this._hasHighlighted = false;\n        this.isOpen = false;\n\n        if (this.dropdown) {\n            this.dropdown.clear();\n        }\n\n        if (this.list) {\n            this.list.clear();\n        }\n    }\n\n    public selectCurrent() {\n        if (this.dropdown) {\n            this.dropdown.selectCurrent();\n        }\n    }\n\n    public nextRow() {\n        if (this.dropdown) {\n            this.dropdown.nextRow();\n        }\n    }\n\n    public prevRow() {\n        if (this.dropdown) {\n            this.dropdown.prevRow();\n        }\n    }\n\n    public hasHighlighted() {\n        return this._hasHighlighted;\n    }\n\n    public cancelBlur(cancel: boolean) {\n        this._cancelBlur = cancel;\n    }\n\n    public isCancelBlur() {\n        return this._cancelBlur;\n    }\n\n    public open() {\n        if (!this._isOpen) {\n            this.isOpen = true;\n            this.list.open();\n        }\n    }\n\n    public get isOpen() {\n        return this._isOpen;\n    }\n\n    public set isOpen(open: boolean) {\n        this._isOpen = open;\n        this.opened.emit(this._isOpen);\n        if (this.list) {\n            this.list.isOpen(open);\n        }\n    }\n\n    public get autoHighlightIndex() {\n        return this._autoHighlightIndex;\n    }\n\n    public set autoHighlightIndex(index: number | null) {\n        this._autoHighlightIndex = index;\n        if (this.dropdown) {\n            this.dropdown.highlightRow(this._autoHighlightIndex);\n        }\n    }\n\n    public get hasSelected() {\n        return this._hasSelected;\n    }\n}\n","import { AfterViewInit, Directive, ElementRef, Host, HostListener, OnDestroy } from \"@angular/core\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CtrCompleter, CompleterDropdown } from \"./ctr-completer\";\nimport { isNil } from \"../globals\";\n\n\nexport interface CtrRowElement {\n    setHighlighted(selected: boolean): void;\n    getNativeElement(): any;\n    getDataItem(): CompleterItem;\n}\n\nexport class CtrRowItem {\n    constructor(public row: CtrRowElement, public index: number) { }\n}\n\n@Directive({\n    selector: \"[ctrDropdown]\",\n})\nexport class CtrDropdown implements CompleterDropdown, OnDestroy, AfterViewInit {\n\n    private rows: CtrRowItem[] = [];\n    private currHighlighted: CtrRowItem | undefined;\n    private isScrollOn: boolean;\n    private _rowMouseDown: boolean = false;\n\n    constructor( @Host() private completer: CtrCompleter, private el: ElementRef) {\n        this.completer.registerDropdown(this);\n    }\n\n    public ngOnDestroy() {\n        this.completer.registerDropdown(null);\n    }\n\n    public ngAfterViewInit() {\n        const css = getComputedStyle(this.el.nativeElement);\n        const autoHighlightIndex = this.completer.autoHighlightIndex;\n\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\n        if (autoHighlightIndex) {\n            setTimeout(\n                () => {\n                    this.highlightRow(autoHighlightIndex);\n                },\n                0\n            );\n        }\n    }\n\n    @HostListener(\"mousedown\", [\"$event\"]) public onMouseDown(event: any) {\n        // Support for canceling blur on IE (issue #158)\n        if (!this._rowMouseDown) {\n            this.completer.cancelBlur(true);\n            setTimeout(\n                () => {\n                    this.completer.cancelBlur(false);\n                },\n                0\n            );\n        } else {\n            this._rowMouseDown = false;\n        }\n    }\n\n    public registerRow(row: CtrRowItem) {\n        const arrIndex = this.rows.findIndex(_row => _row.index === row.index);\n        if (arrIndex >= 0) {\n            this.rows[arrIndex] = row;\n        } else {\n            this.rows.push(row);\n        }\n    }\n\n    public unregisterRow(rowIndex: number) {\n        const arrIndex = this.rows.findIndex(_row => _row.index === rowIndex);\n        this.rows.splice(arrIndex, 1);\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\n            this.highlightRow(null);\n        }\n    }\n\n    public highlightRow(index: number | null) {\n        const highlighted = this.rows.find(row => row.index === index);\n\n        if (isNil(index) || index! < 0) {\n            if (this.currHighlighted) {\n                this.currHighlighted.row.setHighlighted(false);\n            }\n            this.currHighlighted = undefined;\n            this.completer.onHighlighted(null);\n            return;\n        }\n\n        if (!highlighted) {\n            return;\n        }\n\n        if (this.currHighlighted) {\n            this.currHighlighted.row.setHighlighted(false);\n        }\n\n        this.currHighlighted = highlighted;\n        this.currHighlighted.row.setHighlighted(true);\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\n\n        if (this.isScrollOn && this.currHighlighted) {\n            const rowTop = this.dropdownRowTop();\n\n            if (!rowTop) {\n                return;\n            }\n\n            if (rowTop < 0) {\n                this.dropdownScrollTopTo(rowTop - 1);\n            } else {\n                const row = this.currHighlighted.row.getNativeElement();\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop as string, 10)));\n                    }\n                }\n            }\n        }\n    }\n\n    public clear() {\n        this.rows = [];\n    }\n\n    public onSelected(item: CompleterItem) {\n        this.completer.onSelected(item);\n    }\n\n    public rowMouseDown() {\n        this._rowMouseDown = true;\n    }\n\n    public selectCurrent() {\n        if (this.currHighlighted) {\n            this.onSelected(this.currHighlighted.row.getDataItem());\n        } else if (this.rows.length > 0) {\n            this.onSelected(this.rows[0].row.getDataItem());\n        }\n\n    }\n\n    public nextRow() {\n        let nextRowIndex = 0;\n\n        if (this.currHighlighted) {\n            nextRowIndex = this.currHighlighted.index + 1;\n        }\n\n        this.highlightRow(nextRowIndex);\n    }\n\n    public prevRow() {\n        let nextRowIndex = -1;\n\n        if (this.currHighlighted) {\n            nextRowIndex = this.currHighlighted.index - 1;\n        }\n\n        this.highlightRow(nextRowIndex);\n    }\n\n    private dropdownScrollTopTo(offset: any) {\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n    }\n\n    private dropdownRowTop() {\n        if (!this.currHighlighted) {\n            return;\n        }\n\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\n            (this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop as string, 10));\n    }\n\n    private dropdownHeight() {\n        return this.el.nativeElement.getBoundingClientRect().top +\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight as string, 10);\n    }\n\n    private dropdownRowOffsetHeight(row: any) {\n        let css = getComputedStyle(row.parentElement);\n        return row.parentElement.offsetHeight +\n            parseInt(css.marginTop as string, 10) + parseInt(css.marginBottom as string, 10);\n    }\n}\n","import { Directive, ElementRef, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\nimport { NgModel } from \"@angular/forms\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { timer } from \"rxjs/observable/timer\";\nimport { take } from \"rxjs/operators\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CtrCompleter } from \"./ctr-completer\";\nimport { isNil } from \"../globals\";\n\n\n// keyboard events\nconst KEY_DW = 40;\nconst KEY_RT = 39;\nconst KEY_UP = 38;\nconst KEY_LF = 37;\nconst KEY_ES = 27;\nconst KEY_EN = 13;\nconst KEY_TAB = 9;\nconst KEY_BK = 8;\nconst KEY_SH = 16;\nconst KEY_CL = 20;\nconst KEY_F1 = 112;\nconst KEY_F12 = 123;\n\n@Directive({\n    selector: \"[ctrInput]\",\n})\nexport class CtrInput {\n    @Input(\"clearSelected\") public clearSelected = false;\n    @Input(\"clearUnselected\") public clearUnselected = false;\n    @Input(\"overrideSuggested\") public overrideSuggested = false;\n    @Input(\"fillHighlighted\") public fillHighlighted = true;\n    @Input(\"openOnFocus\") public openOnFocus = false;\n    @Input(\"openOnClick\") public openOnClick = false;\n    @Input(\"selectOnClick\") public selectOnClick = false;\n    @Input(\"selectOnFocus\") public selectOnFocus = false;\n\n    @Output() public ngModelChange: EventEmitter<any> = new EventEmitter();\n\n    private _searchStr = \"\";\n    private _displayStr = \"\";\n    private blurTimer: Subscription | null = null;\n\n    constructor( @Host() private completer: CtrCompleter, private ngModel: NgModel, private el: ElementRef) {\n        this.completer.selected.subscribe((item: CompleterItem) => {\n            if (!item) {\n                return;\n            }\n            if (this.clearSelected) {\n                this.searchStr = \"\";\n            } else {\n                this.searchStr = item.title;\n            }\n            this.ngModelChange.emit(this.searchStr);\n        });\n\n        this.completer.highlighted.subscribe((item: CompleterItem) => {\n            if (this.fillHighlighted) {\n                if (item) {\n                    this._displayStr = item.title;\n                    this.ngModelChange.emit(item.title);\n                } else {\n                    this._displayStr = this.searchStr;\n                    this.ngModelChange.emit(this.searchStr);\n                }\n            }\n        });\n\n        this.completer.dataSourceChange.subscribe(() => {\n            this.completer.search(this.searchStr);\n        });\n\n        if (this.ngModel.valueChanges) {\n            this.ngModel.valueChanges.subscribe(value => {\n                if (!isNil(value) && this._displayStr !== value) {\n                    if (this.searchStr !== value) {\n                        this.completer.search(value);\n                    }\n                    this.searchStr = value;\n                }\n            });\n        }\n    }\n\n    @HostListener(\"keyup\", [\"$event\"])\n    public keyupHandler(event: any) {\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n            // do nothing\n            return;\n        }\n\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n            event.preventDefault();\n        }\n        else if (event.keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.search(this.searchStr);\n        }\n        else if (event.keyCode === KEY_ES) {\n            if (this.completer.isOpen) {\n                this.restoreSearchValue();\n                this.completer.clear();\n                event.stopPropagation();\n                event.preventDefault();\n            }\n        }\n    }\n\n    @HostListener(\"paste\", [\"$event\"])\n    public pasteHandler(event: any) {\n        this.completer.open();\n    }\n\n    @HostListener(\"keydown\", [\"$event\"])\n    public keydownHandler(event: any) {\n        const keyCode = event.keyCode || event.which;\n        if (keyCode === KEY_EN) {\n            if (this.completer.hasHighlighted()) {\n                event.preventDefault();\n            }\n            this.handleSelection();\n        } else if (keyCode === KEY_DW) {\n            event.preventDefault();\n            this.completer.open();\n            this.completer.nextRow();\n        } else if (keyCode === KEY_UP) {\n            event.preventDefault();\n            this.completer.prevRow();\n        } else if (keyCode === KEY_TAB) {\n            this.handleSelection();\n        } else if (keyCode === KEY_BK) {\n            this.completer.open();\n        } else if (keyCode === KEY_ES) {\n            // This is very specific to IE10/11 #272\n            // without this, IE clears the input text\n            event.preventDefault();\n            if (this.completer.isOpen) {\n                event.stopPropagation();\n            }\n        } else {\n            if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\n                (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\n                !event.ctrlKey && !event.metaKey && !event.altKey\n            ) {\n                this.completer.open();\n            }\n        }\n    }\n\n    @HostListener(\"blur\", [\"$event\"])\n    public onBlur(event: any) {\n        // Check if we need to cancel Blur for IE\n        if (this.completer.isCancelBlur()) {\n            setTimeout(\n                () => {\n                    // get the focus back\n                    this.el.nativeElement.focus();\n                },\n                0\n            );\n            return;\n        }\n\n        if (this.completer.isOpen) {\n            this.blurTimer = timer(200).pipe(take(1)).subscribe(() => this.doBlur());\n        }\n    }\n\n    @HostListener(\"focus\", [])\n    public onfocus() {\n        if (this.blurTimer) {\n            this.blurTimer.unsubscribe();\n            this.blurTimer = null;\n        }\n\n        if (this.selectOnFocus) {\n            this.el.nativeElement.select();\n        }\n\n        if (this.openOnFocus) {\n            this.completer.open();\n        }\n    }\n\n    @HostListener(\"click\", [\"$event\"])\n    public onClick(event: any) {\n        if (this.selectOnClick) {\n            this.el.nativeElement.select();\n        }\n\n        if (this.openOnClick) {\n            if (this.completer.isOpen) {\n                this.completer.clear();\n            } else {\n                this.completer.open();\n            }\n        }\n    }\n\n    public get searchStr() {\n        return this._searchStr;\n    }\n\n    public set searchStr(term: string) {\n        this._searchStr = term;\n        this._displayStr = term;\n    }\n\n    private handleSelection() {\n        if (this.completer.hasHighlighted()) {\n            this._searchStr = \"\";\n            this.completer.selectCurrent();\n        } else if (this.overrideSuggested) {\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\n        } else {\n            if (this.clearUnselected && !this.completer.hasSelected) {\n                this.searchStr = \"\";\n                this.ngModelChange.emit(this.searchStr);\n            }\n            this.completer.clear();\n        }\n    }\n\n    private restoreSearchValue() {\n        if (this.fillHighlighted) {\n            if (this._displayStr != this.searchStr) {\n                this._displayStr = this.searchStr;\n                this.ngModelChange.emit(this.searchStr);\n            }\n        }\n    }\n\n    private doBlur() {\n        if (this.blurTimer) {\n            this.blurTimer.unsubscribe();\n            this.blurTimer = null;\n        }\n\n        if (this.overrideSuggested) {\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\n        } else {\n            if (this.clearUnselected && !this.completer.hasSelected) {\n                this.searchStr = \"\";\n                this.ngModelChange.emit(this.searchStr);\n            } else {\n                this.restoreSearchValue();\n            }\n        }\n\n        this.completer.clear();\n    }\n}\n","import { ChangeDetectorRef, Directive, EmbeddedViewRef, Host, Input, OnInit, TemplateRef, ViewContainerRef } from \"@angular/core\";\nimport { Subscription } from \"rxjs/Subscription\";\nimport { timer } from \"rxjs/observable/timer\";\nimport { catchError, take } from \"rxjs/operators\";\n\nimport { CtrCompleter, CompleterList } from \"./ctr-completer\";\nimport { CompleterData } from \"../services/completer-data\";\nimport { CompleterItem } from \"../components/completer-item\";\nimport { MIN_SEARCH_LENGTH, PAUSE, CLEAR_TIMEOUT, isNil } from \"../globals\";\n\n\nexport class CtrListContext {\n    constructor(\n        public results: CompleterItem[] | null,\n        public searching: boolean,\n        public searchInitialized: boolean,\n        public isOpen: boolean\n    ) { }\n}\n\n@Directive({\n    selector: \"[ctrList]\",\n})\nexport class CtrList implements OnInit, CompleterList {\n    @Input() public ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n    @Input() public ctrListPause = PAUSE;\n    @Input() public ctrListAutoMatch = false;\n    @Input() public ctrListAutoHighlight = false;\n    @Input() public ctrListDisplaySearching = true;\n\n    private _dataService: CompleterData;\n    // private results: CompleterItem[] = [];\n    private term: string | null = null;\n    // private searching = false;\n    private searchTimer: Subscription | null = null;\n    private clearTimer: Subscription | null = null;\n    private ctx = new CtrListContext([], false, false, false);\n    private _initialValue: any = null;\n    private viewRef: EmbeddedViewRef<CtrListContext> | null = null;\n\n    constructor(\n        @Host() private completer: CtrCompleter,\n        private templateRef: TemplateRef<CtrListContext>,\n        private viewContainer: ViewContainerRef,\n        private cd: ChangeDetectorRef) { }\n\n    public ngOnInit() {\n        this.completer.registerList(this);\n        this.viewRef = this.viewContainer.createEmbeddedView(\n            this.templateRef,\n            new CtrListContext([], false, false, false)\n        );\n    }\n\n    @Input(\"ctrList\")\n    public set dataService(newService: CompleterData) {\n        this._dataService = newService;\n        this.dataServiceSubscribe();\n    }\n\n    @Input(\"ctrListInitialValue\")\n    public set initialValue(value: any) {\n        if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\n            setTimeout(() => {\n                const initialItem = this._dataService.convertToItem!(value);\n                if (initialItem) {\n                    this.completer.onSelected(initialItem, false);\n                }\n            });\n        } else if (!this._dataService) {\n            this._initialValue = value;\n        }\n    }\n\n    public search(term: string) {\n        if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n                this.searchTimer = null;\n            }\n            if (!this.ctx.searching) {\n                if (this.ctrListDisplaySearching) {\n                    this.ctx.results = [];\n                }\n                this.ctx.searching = true;\n                this.ctx.searchInitialized = true;\n                this.refreshTemplate();\n            }\n            if (this.clearTimer) {\n                this.clearTimer.unsubscribe();\n            }\n            this.searchTimer = timer(this.ctrListPause).pipe(take(1)).subscribe(() => {\n                this.searchTimerComplete(term);\n            });\n        } else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\n            this.clear();\n            this.term = \"\";\n        }\n    }\n\n    public clear() {\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n        }\n        this.clearTimer = timer(CLEAR_TIMEOUT).pipe(take(1)).subscribe(() => {\n            this._clear();\n        });\n    }\n\n    public open() {\n        if (!this.ctx.searchInitialized) {\n            this.search(\"\");\n        }\n        this.refreshTemplate();\n    }\n\n    public isOpen(open: boolean) {\n        this.ctx.isOpen = open;\n    }\n\n    private _clear() {\n        if (this.searchTimer) {\n            this.searchTimer.unsubscribe();\n            this.searchTimer = null;\n        }\n        if (this.dataService) {\n            this.dataService.cancel();\n        }\n\n        this.viewContainer.clear();\n        this.viewRef = null;\n    }\n\n    private searchTimerComplete(term: string) {\n        // Begin the search\n        if (isNil(term) || term.length < this.ctrListMinSearchLength) {\n            this.ctx.searching = false;\n            return;\n        }\n        this.term = term;\n        this._dataService.search(term);\n    }\n\n    private refreshTemplate() {\n        // create the template if it doesn't exist\n        if (!this.viewRef) {\n            this.viewRef = this.viewContainer.createEmbeddedView(\n                this.templateRef,\n                this.ctx\n            );\n        } else if (!this.viewRef.destroyed) {\n            // refresh the template\n            this.viewRef!.context.isOpen = this.ctx.isOpen;\n            this.viewRef!.context.results = this.ctx.results;\n            this.viewRef!.context.searching = this.ctx.searching;\n            this.viewRef!.context.searchInitialized = this.ctx.searchInitialized;\n            this.viewRef.detectChanges();\n        }\n        this.cd.markForCheck();\n    }\n\n    private getBestMatchIndex() {\n        if (!this.ctx.results || !this.term) {\n            return null;\n        }\n\n        // First try to find the exact term\n        let bestMatch = this.ctx.results.findIndex(item => item.title.toLowerCase() === this.term!.toLocaleLowerCase());\n        // If not try to find the first item that starts with the term\n        if (bestMatch < 0) {\n            bestMatch = this.ctx.results.findIndex(item => item.title.toLowerCase().startsWith(this.term!.toLocaleLowerCase()));\n        }\n        // If not try to find the first item that includes the term\n        if (bestMatch < 0) {\n            bestMatch = this.ctx.results.findIndex(item => item.title.toLowerCase().includes(this.term!.toLocaleLowerCase()));\n        }\n\n        return bestMatch < 0 ? null : bestMatch;\n    }\n\n    private dataServiceSubscribe() {\n        if (this._dataService) {\n            this._dataService.pipe(\n                catchError(err => {\n                    console.error(err);\n                    console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\n                    return [];\n                })\n            )\n                .subscribe(results => {\n                    this.ctx.searchInitialized = true;\n                    this.ctx.searching = false;\n                    this.ctx.results = results;\n\n                    if (this.ctrListAutoMatch && results && results.length === 1 && results[0].title && !isNil(this.term) &&\n                        results[0].title.toLocaleLowerCase() === this.term!.toLocaleLowerCase()) {\n                        // Do automatch\n                        this.completer.onSelected(results[0]);\n                        return;\n                    }\n\n                    if (this._initialValue) {\n                        this.initialValue = this._initialValue;\n                        this._initialValue = null;\n                    }\n\n                    this.refreshTemplate();\n\n                    if (this.ctrListAutoHighlight) {\n                        this.completer.autoHighlightIndex = this.getBestMatchIndex();\n                    }\n                });\n\n            if (this._dataService.dataSourceChange) {\n                this._dataService.dataSourceChange.subscribe(() => {\n                    this.term = null;\n                    this.ctx.searchInitialized = false;\n                    this.ctx.searching = false;\n                    this.ctx.results = [];\n                    this.refreshTemplate();\n                    this.completer.onDataSourceChange();\n                });\n            }\n        }\n    }\n\n}\n","import { Directive, ElementRef, Host, HostListener, Input, Renderer, OnDestroy } from \"@angular/core\";\n\nimport { CompleterItem } from \"../components/completer-item\";\nimport { CtrDropdown, CtrRowElement, CtrRowItem } from \"./ctr-dropdown\";\n\n@Directive({\n    selector: \"[ctrRow]\",\n})\nexport class CtrRow implements CtrRowElement, OnDestroy {\n\n    private selected = false;\n    private _rowIndex: number;\n    private _item: CompleterItem;\n\n    constructor(private el: ElementRef, private renderer: Renderer, @Host() private dropdown: CtrDropdown) { }\n\n    public ngOnDestroy() {\n        if (this._rowIndex) {\n            this.dropdown.unregisterRow(this._rowIndex);\n        }\n    }\n\n    @Input()\n    set ctrRow(index: number) {\n        this._rowIndex = index;\n        this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n    }\n\n    @Input()\n    set dataItem(item: CompleterItem) {\n        this._item = item;\n    }\n\n    @HostListener(\"click\", [\"$event\"]) public onClick(event: any) {\n        this.dropdown.onSelected(this._item);\n    }\n\n    @HostListener(\"mouseenter\", [\"$event\"]) public onMouseEnter(event: any) {\n        this.dropdown.highlightRow(this._rowIndex);\n    }\n\n    @HostListener(\"mousedown\", [\"$event\"]) public onMouseDown(event: any) {\n        this.dropdown.rowMouseDown();\n    }\n\n    public setHighlighted(selected: boolean) {\n        this.selected = selected;\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\n    }\n\n    public getNativeElement() {\n        return this.el.nativeElement;\n    }\n\n    public getDataItem() {\n        return this._item;\n    }\n}\n","\"use strict\";\nimport { Component, Input, OnInit } from \"@angular/core\";\n\nexport interface MatchPart {\n    isMatch: boolean;\n    text: string;\n}\n\n@Component({\n    selector: \"completer-list-item\",\n    template: `<span class=\"completer-list-item-holder\" [ngClass]= \"{'completer-title': type === 'title', 'completer-description': type === 'description'}\" >\n        <span class=\"completer-list-item\" *ngFor=\"let part of parts\" [ngClass]= \"part.isMatch ? matchClass : null\">{{part.text}}</span>\n    </span>`\n})\nexport class CompleterListItemCmp implements OnInit {\n    @Input() public text: string;\n    @Input() public searchStr: string;\n    @Input() public matchClass: string;\n    @Input() public type: string;\n\n    public parts: MatchPart[] = [];\n    public ngOnInit() {\n        if (!this.searchStr) {\n            this.parts.push({ isMatch: false, text: this.text });\n            return;\n        }\n        let matchStr = this.text.toLowerCase();\n        let matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n        let startIndex = 0;\n        while (matchPos >= 0) {\n            let matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n            if (matchPos === 0) {\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length;\n            } else if (matchPos > 0) {\n                let matchPart = this.text.slice(startIndex, matchPos);\n                this.parts.push({ isMatch: false, text: matchPart });\n                this.parts.push({ isMatch: true, text: matchText });\n                startIndex += this.searchStr.length + matchPart.length;\n            }\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n        }\n        if (startIndex < this.text.length) {\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n        }\n    }\n}","\"use strict\";\nimport { AfterViewChecked, ChangeDetectorRef, Component, Input, Output, EventEmitter, OnInit, ViewChild, forwardRef, AfterViewInit, ElementRef } from \"@angular/core\";\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\n\nimport { CtrCompleter } from \"../directives/ctr-completer\";\nimport { CompleterData } from \"../services/completer-data\";\nimport { CompleterService } from \"../services/completer-service\";\nimport { CompleterItem } from \"./completer-item\";\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NO_RESULTS, isNil } from \"../globals\";\n\nimport \"rxjs/add/operator/catch\";\n\nconst noop = () => {\n    return;\n};\n\nconst COMPLETER_CONTROL_VALUE_ACCESSOR = {\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => CompleterCmp),\n};\n\n\n@Component({\n    selector: \"ng2-completer\",\n    template: `\n        <div class=\"completer-holder\" ctrCompleter>\n            <input #ctrInput [attr.id]=\"inputId.length > 0 ? inputId : null\" type=\"search\"\n                class=\"completer-input\" ctrInput [ngClass]=\"inputClass\"\n                [(ngModel)]=\"searchStr\" (ngModelChange)=\"onChange($event)\"\n                [attr.name]=\"inputName\" [placeholder]=\"placeholder\"\n                [attr.maxlength]=\"maxChars\" [tabindex]=\"fieldTabindex\" [disabled]=\"disableInput\"\n                [clearSelected]=\"clearSelected\" [clearUnselected]=\"clearUnselected\"\n                [overrideSuggested]=\"overrideSuggested\" [openOnFocus]=\"openOnFocus\" [fillHighlighted]=\"fillHighlighted\"\n                [openOnClick]=\"openOnClick\" [selectOnClick]=\"selectOnClick\" [selectOnFocus]=\"selectOnFocus\"\n                (blur)=\"onBlur()\" (focus)=\"onFocus()\" (keyup)=\"onKeyup($event)\"\n                (keydown)=\"onKeydown($event)\" (click)=\"onClick($event)\"\n                autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" />\n\n            <div class=\"completer-dropdown-holder\"\n                *ctrList=\"dataService;\n                    minSearchLength: minSearchLength;\n                    pause: pause;\n                    autoMatch: autoMatch;\n                    initialValue: initialValue;\n                    autoHighlight: autoHighlight;\n                    displaySearching: displaySearching;\n                    let items = results;\n                    let searchActive = searching;\n                    let isInitialized = searchInitialized;\n                    let isOpen = isOpen;\">\n                <div class=\"completer-dropdown\" ctrDropdown \n                    *ngIf=\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\">\n                    <div *ngIf=\"searchActive && displaySearching\" class=\"completer-searching\">{{ _textSearching }}</div>\n                    <div *ngIf=\"!searchActive && (!items || items?.length === 0)\"\n                    class=\"completer-no-results\">{{ _textNoResults }}</div>\n                    <div class=\"completer-row-wrapper\" *ngFor=\"let item of items; let rowIndex=index\">\n                        <div class=\"completer-row\" [ctrRow]=\"rowIndex\" [dataItem]=\"item\">\n                            <div *ngIf=\"item.image || item.image === ''\" class=\"completer-image-holder\">\n                                <img *ngIf=\"item.image != ''\" src=\"{{item.image}}\" class=\"completer-image\" />\n                                <div *ngIf=\"item.image === ''\" class=\"completer-image-default\"></div>\n                            </div>\n                            <div class=\"completer-item-text\"\n                            [ngClass]=\"{'completer-item-text-image': item.image || item.image === '' }\">\n                                <completer-list-item\n                                class=\"completer-title\" [text]=\"item.title\" [matchClass]=\"matchClass\"\n                                [searchStr]=\"searchStr\" [type]=\"'title'\"></completer-list-item>\n                                <completer-list-item *ngIf=\"item.description && item.description != ''\"\n                                class=\"completer-description\" [text]=\"item.description\"\n                                    [matchClass]=\"matchClass\" [searchStr]=\"searchStr\" [type]=\"'description'\">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [`\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px;\n        height: 16px;\n        background-image: url(\"demo/res/img/default.png\");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    `],\n    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n})\nexport class CompleterCmp implements OnInit, ControlValueAccessor, AfterViewChecked, AfterViewInit {\n    @Input() public dataService: CompleterData;\n    @Input() public inputName = \"\";\n    @Input() public inputId: string = \"\";\n    @Input() public pause = PAUSE;\n    @Input() public minSearchLength = MIN_SEARCH_LENGTH;\n    @Input() public maxChars = MAX_CHARS;\n    @Input() public overrideSuggested = false;\n    @Input() public clearSelected = false;\n    @Input() public clearUnselected = false;\n    @Input() public fillHighlighted = true;\n    @Input() public placeholder = \"\";\n    @Input() public matchClass: string;\n    @Input() public fieldTabindex: number;\n    @Input() public autoMatch = false;\n    @Input() public disableInput = false;\n    @Input() public inputClass: string;\n    @Input() public autofocus = false;\n    @Input() public openOnFocus = false;\n    @Input() public openOnClick = false;\n    @Input() public selectOnClick = false;\n    @Input() public selectOnFocus = false;\n    @Input() public initialValue: any;\n    @Input() public autoHighlight = false;\n\n    @Output() public selected = new EventEmitter<CompleterItem>();\n    @Output() public highlighted = new EventEmitter<CompleterItem>();\n    @Output(\"blur\") public blurEvent = new EventEmitter<void>();\n    @Output() public click = new EventEmitter<void>();\n    @Output(\"focus\") public focusEvent = new EventEmitter<void>();\n    @Output() public opened = new EventEmitter<boolean>();\n    @Output() public keyup: EventEmitter<any> = new EventEmitter();\n    @Output() public keydown: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild(CtrCompleter) public completer: CtrCompleter;\n    @ViewChild(\"ctrInput\") public ctrInput: ElementRef;\n\n    public control = new FormControl(\"\");\n    public displaySearching = true;\n    public displayNoResults = true;\n    public _textNoResults = TEXT_NO_RESULTS;\n    public _textSearching = TEXT_SEARCHING;\n\n    private _onTouchedCallback: () => void = noop;\n    private _onChangeCallback: (_: any) => void = noop;\n    private _focus: boolean = false;\n    private _open: boolean = false;\n    private _searchStr = \"\";\n\n    constructor(private completerService: CompleterService, private cdr: ChangeDetectorRef) { }\n\n    public get value(): any { return this.searchStr; };\n\n    public set value(v: any) {\n        if (v !== this.searchStr) {\n            this.searchStr = v;\n        }\n        // Propagate the change in any case\n        this._onChangeCallback(v);\n    }\n\n    public get searchStr() {\n        return this._searchStr;\n    }\n\n    public set searchStr(value: string) {\n        if (typeof value === \"string\" || isNil(value)) {\n            this._searchStr = value;\n        } else {\n            this._searchStr = JSON.stringify(value);\n        }\n    }\n\n    public ngAfterViewInit() {\n        if (this.autofocus) {\n            this._focus = true;\n        }\n    }\n\n    public ngAfterViewChecked(): void {\n        if (this._focus) {\n            setTimeout(\n                () => {\n                    this.ctrInput.nativeElement.focus();\n                    this._focus = false;\n                },\n                0\n            );\n        }\n    }\n\n    public onTouched() {\n        this._onTouchedCallback();\n    }\n\n    public writeValue(value: any) {\n        this.searchStr = value;\n    }\n\n    public registerOnChange(fn: any) {\n        this._onChangeCallback = fn;\n    }\n\n    public registerOnTouched(fn: any) {\n        this._onTouchedCallback = fn;\n    }\n\n    public setDisabledState(isDisabled: boolean): void {\n        this.disableInput = isDisabled;\n    }\n\n    @Input()\n    public set datasource(source: CompleterData | string | any[]) {\n        if (source) {\n            if (source instanceof Array) {\n                this.dataService = this.completerService.local(source);\n            } else if (typeof (source) === \"string\") {\n                this.dataService = this.completerService.remote(source);\n            } else {\n                this.dataService = source as CompleterData;\n            }\n        }\n    }\n\n    @Input()\n    public set textNoResults(text: string) {\n        if (this._textNoResults !== text) {\n            this._textNoResults = text;\n            this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\n        }\n    }\n\n    @Input()\n    public set textSearching(text: string) {\n        if (this._textSearching !== text) {\n            this._textSearching = text;\n            this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\n        }\n    }\n\n    public ngOnInit() {\n        this.completer.selected.subscribe((item: CompleterItem) => {\n            this.selected.emit(item);\n        });\n        this.completer.highlighted.subscribe((item: CompleterItem) => {\n            this.highlighted.emit(item);\n        });\n        this.completer.opened.subscribe((isOpen: boolean) => {\n            this._open = isOpen;\n            this.opened.emit(isOpen);\n        });\n    }\n\n    public onBlur() {\n        this.blurEvent.emit();\n        this.onTouched();\n        this.cdr.detectChanges();\n    }\n\n    public onFocus() {\n        this.focusEvent.emit();\n        this.onTouched();\n    }\n\n    public onClick(event: any) {\n        this.click.emit(event);\n        this.onTouched();\n    }\n\n    public onKeyup(event: any) {\n        this.keyup.emit(event);\n        event.stopPropagation();\n    }\n\n    public onKeydown(event: any) {\n        this.keydown.emit(event);\n        event.stopPropagation();\n    }\n\n    public onChange(value: string) {\n        this.value = value;\n    }\n\n    public open() {\n        this.completer.open();\n    }\n\n    public close() {\n        this.completer.clear();\n    }\n\n    public focus(): void {\n        if (this.ctrInput) {\n            this.ctrInput.nativeElement.focus();\n        } else {\n            this._focus = true;\n        }\n    }\n\n    public blur(): void {\n        if (this.ctrInput) {\n            this.ctrInput.nativeElement.blur();\n        } else {\n            this._focus = false;\n        }\n    }\n\n    public isOpen() {\n        return this._open;\n    }\n}\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { CommonModule } from \"@angular/common\";\n\nimport { CompleterCmp } from \"../components/completer-cmp\";\nimport { CompleterListItemCmp } from \"../components/completer-list-item-cmp\";\nimport { LocalDataFactory } from \"../services/local-data-factory\";\nimport { RemoteDataFactory } from \"../services/remote-data-factory\";\nimport { CompleterService } from \"../services/completer-service\";\n\nimport { CtrCompleter } from \"../directives/ctr-completer\";\nimport { CtrDropdown } from \"../directives/ctr-dropdown\";\nimport { CtrInput } from \"../directives/ctr-input\";\nimport { CtrList } from \"../directives/ctr-list\";\nimport { CtrRow } from \"../directives/ctr-row\";\n\nconst providers = [\n    CompleterService,\n    LocalDataFactory,\n    RemoteDataFactory\n];\n\n@NgModule({\n    declarations: [\n        CompleterListItemCmp,\n        CtrCompleter,\n        CtrDropdown,\n        CtrInput,\n        CtrList,\n        CtrRow,\n        CompleterCmp\n    ],\n    exports: [\n        CompleterListItemCmp,\n        CtrCompleter,\n        CtrDropdown,\n        CtrInput,\n        CtrList,\n        CtrRow,\n        CompleterCmp\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        HttpClientModule\n    ],\n    providers\n})\nexport class Ng2CompleterModule {\n\n    public static forRoot(): ModuleWithProviders {\n        return {\n            ngModule: Ng2CompleterModule,\n            providers\n        };\n    }\n\n    public static forChild(): ModuleWithProviders {\n        return {\n            ngModule: Ng2CompleterModule,\n            providers\n        };\n    }\n}\n"],"names":["tslib_1.__extends","Subject","EventEmitter","Observable","catchError","http","map","Injectable","HttpClient","Directive","Output","Host","ElementRef","HostListener","timer","take","NgModel","Input","TemplateRef","ViewContainerRef","ChangeDetectorRef","Renderer","Component","NG_VALUE_ACCESSOR","forwardRef","FormControl","ViewChild","NgModule","CommonModule","FormsModule","HttpClientModule"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;AAgBA,IAAI,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IAC/B,aAAa,GAAG,MAAM,CAAC,cAAc;SAChC,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;QAC5E,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC/E,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CAC9B,CAAC;;AAEF,AAAO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAC5B,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACpB,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IACvC,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;CACxF;;;;;;;;;;AC1BD,IAAa,SAAS,GAAG,MAAM,CAAC;AAChC,IAAa,iBAAiB,GAAG,CAAC,CAAC;AACnC,IAAa,KAAK,GAAG,EAAE,CAAC;AACxB,IAAa,cAAc,GAAG,cAAc,CAAC;AAC7C,IAAa,eAAe,GAAG,kBAAkB,CAAC;AAClD,IAAa,aAAa,GAAG,EAAE,CAAC;;;;;AAEhC,eAAsB,KAAU;IAC5B,OAAO,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,CAAC;CACzD;;;;;;;;;ACJD,IAAA;IAAgDA,qCAA+B;IAO3E;eACI,iBAAO;KACV;;;;IAIM,kCAAM;;;;QACT,OAAO;;;;;;IAGJ,wCAAY;;;;cAAC,YAA2B;QAC3C,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,OAAO,IAAI,CAAC;;;;;;IAGT,sCAAU;;;;cAAC,UAAyB;QACvC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,OAAO,IAAI,CAAC;;;;;;IAGT,4CAAgB;;;;cAAC,gBAAwB;QAC5C,IAAI,CAAC,iBAAiB,GAAG,gBAAgB,CAAC;QAC1C,OAAO,IAAI,CAAC;;;;;;IAGT,sCAAU;;;;cAAC,UAAkB;QAChC,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,OAAO,IAAI,CAAC;;;;;;IAGT,yCAAa;;;;cAAC,IAAS;QAC1B,qBAAI,KAAK,GAAkB,IAAI,CAAC;QAChC,qBAAI,aAAqB,CAAC;QAC1B,qBAAI,aAAa,GAAkB,IAAI,CAAC;QAExC,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SAC3C;aAAM;YACH,aAAa,GAAG,IAAI,CAAC;SACxB;QAED,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;YACnC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;SACjD;QAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACnE;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACrD;QAED,IAAI,KAAK,CAAC,aAAa,CAAC,EAAE;YACtB,OAAO,IAAI,CAAC;SACf;QAED,yBAAO;YACH,WAAW,EAAE,aAAa;YAC1B,KAAK,OAAA;YACL,cAAc,EAAE,IAAI;YACpB,KAAK,EAAE,aAAa;SACN,EAAC;;;;;;;IAIb,0CAAc;;;;;IAAxB,UAAyB,IAAW,EAAE,IAAY;QAAlD,iBAiBC;QAhBG,qBAAI,OAAO,GAAU,EAAE,CAAC;QACxB,qBAAM,YAAY,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAC/E,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,IAAI,IAAI,KAAK,EAAE,EAAE;YAChF,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,UAAC,IAAI;gBACvB,qBAAM,MAAM,GAAU,YAAY,GAAG,KAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAC7F,OAAO,MAAM,CAAC,IAAI,CAAC,UAAC,KAAK;oBAAK,OAAA,KAAK;yBAC9B,QAAQ,EAAE;yBACV,WAAW,EAAE;yBACb,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC;iBAAA,CAC/C,CAAC;aACL,CAAC,CAAC;SACN;aAAM;YACH,OAAO,GAAG,IAAI,CAAC;SAClB;QAED,OAAO,OAAO,CAAC;KAClB;;;;;IAES,wCAAY;;;;IAAtB,UAAuB,IAAS;QAAhC,iBAWC;;QATG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAO,EAAE,CAAC;SACb;QAED,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;aAC7B,GAAG,CAAC,UAAC,KAAK;YACP,OAAO,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACzC,CAAC;aACD,MAAM,CAAC,UAAC,GAAG,EAAE,SAAS,IAAK,OAAA,GAAG,GAAM,GAAG,SAAI,SAAW,GAAG,SAAS,GAAA,CAAC,CAAC;KAC5E;;;;;;IAES,wCAAY;;;;;IAAtB,UAAuB,GAAQ,EAAE,GAAkB;QAC/C,qBAAI,IAAc,CAAC;QACnB,qBAAI,MAAW,CAAC;QAChB,IAAI,GAAG,EAAE;YACL,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtB,MAAM,GAAG,GAAG,CAAC;YACb,KAAY,UAAI,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI;gBAAX,GAAG,aAAA;gBACJ,IAAI,MAAM,EAAE;oBACR,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;iBACxB;aACJ;SACJ;aAAM;YACH,MAAM,GAAG,GAAG,CAAC;SAChB;QACD,OAAO,MAAM,CAAC;KACjB;;;;;IAES,0CAAc;;;;IAAxB,UAAyB,OAAiB;QACtC,qBAAI,CAAS,CAAC;QACd,qBAAM,OAAO,GAAoB,EAAE,CAAC;QAEpC,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YAC/B,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACjC,qBAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,IAAI,IAAI,EAAE;oBACN,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACtB;aACJ;SACJ;QACD,OAAO,OAAO,CAAC;KAClB;;;;;;IAEO,iDAAqB;;;;;cAAC,YAAsB,EAAE,IAAS;;QAC3D,OAAO,YAAY;aACd,GAAG,CAAC,UAAC,WAAW,IAAK,OAAA,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,WAAW,CAAC,GAAA,CAAC,CAAC,MAAM,CAAC,UAAC,KAAK,IAAK,OAAA,CAAC,CAAC,KAAK,GAAA,CAAC,CAAC;;4BAjJnG;EAMgDC,eAAO,EA6ItD;;;;;;IC5ID;IAA+BD,6BAAiB;IAO5C;QAAA,YACI,iBAAO,SACV;iCAP6C,IAAIE,iBAAY,EAAQ;;KAOrE;;;;;IAEM,wBAAI;;;;cAAC,IAA+B;;QACvC,IAAI,IAAI,YAAYC,qBAAU,EAAE;YAC5B,qBAAM,KAAK,qBAAG,IAAyB,CAAA,CAAC;YACxC,KAAK;iBACA,IAAI,CAACC,oBAAU,CAAC,cAAM,OAAA,EAAE,GAAA,CAAC,CAAC;iBAC1B,SAAS,CAAC,UAAC,GAAG;gBACX,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;gBACjB,IAAI,KAAI,CAAC,SAAS,EAAE;oBAChB,KAAI,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;iBAC/B;gBACD,KAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;aAChC,CAAC,CAAC;SACV;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;SACrB;QAED,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAE7B,OAAO,IAAI,CAAC;;;;;;IAGT,0BAAM;;;;cAAC,IAAY;QACtB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;aAAM;YACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,qBAAM,OAAO,GAAU,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;SAC3C;;;;;;IAGE,iCAAa;;;;cAAC,IAAS;QAC1B,OAAO,iBAAM,aAAa,YAAC,IAAI,CAAC,CAAC;;oBAlDzC;EAO+B,iBAAiB,EA6C/C;;;;;;IC5CD;IAAgCJ,8BAAiB;IAS7C,oBAAoBK,OAAgB;QAApC,YACI,iBAAO,SACV;QAFmB,UAAI,GAAJA,OAAI,CAAY;iCARU,IAAIH,iBAAY,EAAQ;6BAIZ,IAAI;2BAC1B,IAAI;;KAKvC;;;;;IAEM,8BAAS;;;;cAAC,SAAwB;QACrC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAE7B,OAAO,IAAI,CAAC;;;;;;IAGT,gCAAW;;;;cAAC,WAAqC;QACpD,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;;;;;;IAG7B,8BAAS;;;;cAAC,SAAiB;QAC9B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;;;;;;IAGzB,mCAAc;;;;cAAC,cAAmB;QACrC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;;;;;;IAGnC,2BAAM;;;;cAAC,IAAY;;QACtB,IAAI,CAAC,MAAM,EAAE,CAAC;;QAEd,qBAAI,GAAG,GAAG,EAAE,CAAC;QACb,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACjC;aAAM;YACH,GAAG,GAAG,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC;SACpD;QAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI;aACxB,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;aACjD,IAAI,CACDI,aAAG,CAAC,UAAC,IAAS;YACV,qBAAM,OAAO,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAI,CAAC,UAAU,CAAC,CAAC;YACzD,OAAO,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC7C,CAAC,EACFF,oBAAU,CAAC,cAAM,OAAA,EAAE,GAAA,CAAC,CACvB;aACA,SAAS,CAAC,UAAC,OAAc;YACtB,qBAAM,OAAO,GAAG,KAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAC7C,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtB,CAAC,CAAC;;;;;IAGJ,2BAAM;;;;QACT,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;SACnC;;;;;;IAGE,kCAAa;;;;cAAC,IAAS;QAC1B,OAAO,iBAAM,aAAa,YAAC,IAAI,CAAC,CAAC;;qBAxEzC;EAQgC,iBAAiB,EAkEhD;;;;;;AC1ED;;;;;;IAMW,iCAAM;;;;QACT,OAAO,IAAI,SAAS,EAAE,CAAC;;;gBAH9BG,eAAU;;;;2BAJX;;;;;;;ACAA;IAQI,2BAAoBF,OAAgB;QAAhB,SAAI,GAAJA,OAAI,CAAY;KAAK;;;;IAElC,kCAAM;;;;QACT,OAAO,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;gBALxCE,eAAU;;;;gBAJFC,eAAU;;4BAFnB;;;;;;;ACAA;IAUI,0BACY,kBACA;;QADA,qBAAgB,GAAhB,gBAAgB;QAChB,sBAAiB,GAAjB,iBAAiB;KACxB;;;;;;;IAEE,gCAAK;;;;;;cACR,IAA6B,EAC7B,YAAgC,EAChC,UAA8B;QAD9B,6BAAA,EAAA,iBAAgC;QAChC,2BAAA,EAAA,eAA8B;QAG9B,qBAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC;QACjD,OAAO,SAAS;aACX,IAAI,CAAC,IAAI,CAAC;aACV,YAAY,CAAC,YAAY,CAAC;aAC1B,UAAU,CAAC,UAAU,CAAC,CAAC;;;;;;;;IAGzB,iCAAM;;;;;;cAAC,GAAkB,EAAE,YAAgC,EAAE,UAA8B;QAAhE,6BAAA,EAAA,iBAAgC;QAAE,2BAAA,EAAA,eAA8B;QAE9F,qBAAM,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC;QACnD,OAAO,UAAU;aACZ,SAAS,CAAC,GAAG,CAAC;aACd,YAAY,CAAC,YAAY,CAAC;aAC1B,UAAU,CAAC,UAAU,CAAC,CAAC;;;gBA1BnCD,eAAU;;;;gBAHF,gBAAgB;gBAChB,iBAAiB;;2BAN1B;;;;;;;;;;;;;;;;;wBCuBgC,IAAIL,iBAAY,EAAwB;2BACrC,IAAIA,iBAAY,EAAwB;sBAC7C,IAAIA,iBAAY,EAAW;gCACjB,IAAIA,iBAAY,EAAQ;+BAIlC,KAAK;4BACR,KAAK;2BACN,KAAK;uBACT,KAAK;;;;;;IAGhB,mCAAY;;;;cAAC,IAAmB;QACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;;;;;IAGd,uCAAgB;;;;cAAC,QAAkC;QACtD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;;;;;;IAGtB,oCAAa;;;;cAAC,IAA0B;QAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC,IAAI,CAAC;;;;;;;IAG3B,iCAAU;;;;;cAAC,IAAmB,EAAE,SAAgB;QAAhB,0BAAA,EAAA,gBAAgB;QACnD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;QACD,IAAI,SAAS,EAAE;YACX,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;;;;;IAGE,yCAAkB;;;;QACrB,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7B;QACD,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;;;;;;IAG1B,6BAAM;;;;cAAC,IAAY;QACtB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7B;QACD,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAC1B;;;;;IAGE,4BAAK;;;;QACR,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACzB;QAED,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;SACrB;;;;;IAGE,oCAAa;;;;QAChB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE,CAAC;SACjC;;;;;IAGE,8BAAO;;;;QACV,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;SAC3B;;;;;IAGE,8BAAO;;;;QACV,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;SAC3B;;;;;IAGE,qCAAc;;;;QACjB,OAAO,IAAI,CAAC,eAAe,CAAC;;;;;;IAGzB,iCAAU;;;;cAAC,MAAe;QAC7B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;;;;;IAGvB,mCAAY;;;;QACf,OAAO,IAAI,CAAC,WAAW,CAAC;;;;;IAGrB,2BAAI;;;;QACP,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;SACpB;;0BAGM,gCAAM;;;;;YACb,OAAO,IAAI,CAAC,OAAO,CAAC;;;;;;kBAGN,IAAa;YAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC/B,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aAC1B;;;;;0BAGM,4CAAkB;;;;;YACzB,OAAO,IAAI,CAAC,mBAAmB,CAAC;;;;;;kBAGN,KAAoB;YAC9C,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;aACxD;;;;;0BAGM,qCAAW;;;;;YAClB,OAAO,IAAI,CAAC,YAAY,CAAC;;;;;;gBApIhCO,cAAS,SAAC;oBACP,QAAQ,EAAE,gBAAgB;iBAC7B;;;;;6BAEIC,WAAM;gCACNA,WAAM;2BACNA,WAAM;qCACNA,WAAM;;uBA1BX;;;;;;;;;;;ICaA;IACI,oBAAmB,GAAkB,EAAS,KAAa;QAAxC,QAAG,GAAH,GAAG,CAAe;QAAS,UAAK,GAAL,KAAK,CAAQ;KAAK;qBAdpE;IAeC,CAAA;AAFD;IAcI,qBAA6B,WAAiC,EAAc;QAA/C,cAAS,GAAT,SAAS;QAAwB,OAAE,GAAF,EAAE,CAAY;oBAL/C,EAAE;6BAGE,KAAK;QAGlC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KACzC;;;;IAEM,iCAAW;;;;QACd,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;;;;;IAGnC,qCAAe;;;;;QAClB,qBAAM,GAAG,GAAG,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;QACpD,qBAAM,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC;QAE7D,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,KAAK,MAAM,CAAC;QAC9D,IAAI,kBAAkB,EAAE;YACpB,UAAU,CACN;gBACI,KAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,CAAC;aACzC,EACD,CAAC,CACJ,CAAC;SACL;;;;;;IAGyC,iCAAW;;;;cAAC,KAAU;;;QAEhE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACrB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAChC,UAAU,CACN;gBACI,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;aACpC,EACD,CAAC,CACJ,CAAC;SACL;aAAM;YACH,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC9B;;;;;;IAGE,iCAAW;;;;cAAC,GAAe;QAC9B,qBAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK,GAAA,CAAC,CAAC;QACvE,IAAI,QAAQ,IAAI,CAAC,EAAE;YACf,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC;SAC7B;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SACvB;;;;;;IAGE,mCAAa;;;;cAAC,QAAgB;QACjC,qBAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAK,KAAK,QAAQ,GAAA,CAAC,CAAC;QACtE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC9B,IAAI,IAAI,CAAC,eAAe,IAAI,QAAQ,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YACjE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SAC3B;;;;;;IAGE,kCAAY;;;;cAAC,KAAoB;QACpC,qBAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,KAAK,KAAK,KAAK,GAAA,CAAC,CAAC;QAE/D,IAAI,KAAK,CAAC,KAAK,CAAC,uBAAI,KAAK,KAAI,CAAC,EAAE;YAC5B,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;aAClD;YACD,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACnC,OAAO;SACV;QAED,IAAI,CAAC,WAAW,EAAE;YACd,OAAO;SACV;QAED,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SAClD;QAED,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;QAErE,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,eAAe,EAAE;YACzC,qBAAM,MAAM,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAErC,IAAI,CAAC,MAAM,EAAE;gBACT,OAAO;aACV;YAED,IAAI,MAAM,GAAG,CAAC,EAAE;gBACZ,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACxC;iBAAM;gBACH,qBAAM,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;gBACxD,IAAI,IAAI,CAAC,cAAc,EAAE,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC,MAAM,EAAE;oBAC5D,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC5D,IAAI,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,qBAAqB,EAAE,CAAC,GAAG,EAAE;wBAC5H,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,qBAAqB,EAAE,CAAC,GAAG,IAAI,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,QAAQ,mBAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAoB,GAAE,EAAE,CAAC,CAAC,CAAC,CAAC;qBAChM;iBACJ;aACJ;SACJ;;;;;IAGE,2BAAK;;;;QACR,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;;;;;;IAGZ,gCAAU;;;;cAAC,IAAmB;QACjC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;;;;IAG7B,kCAAY;;;;QACf,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;;;;IAGvB,mCAAa;;;;QAChB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;SAC3D;aAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;SACnD;;;;;IAIE,6BAAO;;;;QACV,qBAAI,YAAY,GAAG,CAAC,CAAC;QAErB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC;SACjD;QAED,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;;;;;IAG7B,6BAAO;;;;QACV,qBAAI,YAAY,GAAG,CAAC,CAAC,CAAC;QAEtB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC;SACjD;QAED,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;;;;;;IAG5B,yCAAmB;;;;cAAC,MAAW;QACnC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,GAAG,MAAM,CAAC;;;;;IAGvE,oCAAc;;;;QAClB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACvB,OAAO;SACV;QAED,OAAO,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC,qBAAqB,EAAE,CAAC,GAAG;aACzE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG;gBAC9C,QAAQ,mBAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,UAAoB,GAAE,EAAE,CAAC,CAAC,CAAC;;;;;IAGhF,oCAAc;;;;QAClB,OAAO,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG;YACpD,QAAQ,mBAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,SAAmB,GAAE,EAAE,CAAC,CAAC;;;;;;IAG1E,6CAAuB;;;;cAAC,GAAQ;QACpC,qBAAI,GAAG,GAAG,gBAAgB,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC9C,OAAO,GAAG,CAAC,aAAa,CAAC,YAAY;YACjC,QAAQ,mBAAC,GAAG,CAAC,SAAmB,GAAE,EAAE,CAAC,GAAG,QAAQ,mBAAC,GAAG,CAAC,YAAsB,GAAE,EAAE,CAAC,CAAC;;;gBA7K5FD,cAAS,SAAC;oBACP,QAAQ,EAAE,eAAe;iBAC5B;;;;gBAhBQ,YAAY,uBAwBHE,SAAI;gBA3BaC,eAAU;;;gCAkDxCC,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;;sBAlDzC;;;;;;;;ACYA,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,OAAO,GAAG,CAAC,CAAC;AAClB,IAAM,MAAM,GAAG,CAAC,CAAC;AACjB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,EAAE,CAAC;AAClB,IAAM,MAAM,GAAG,GAAG,CAAC;AACnB,IAAM,OAAO,GAAG,GAAG,CAAC;;IAqBhB,kBAA6B,WAAiC,OAAgB,EAAU,EAAc;QAAtG,iBAuCC;QAvC4B,cAAS,GAAT,SAAS;QAAwB,YAAO,GAAP,OAAO,CAAS;QAAU,OAAE,GAAF,EAAE,CAAY;6BAfvD,KAAK;+BACD,KAAK;iCACD,KAAK;+BACT,IAAI;2BACZ,KAAK;2BACL,KAAK;6BACD,KAAK;6BACL,KAAK;6BAEA,IAAIX,iBAAY,EAAE;0BAEjD,EAAE;2BACD,EAAE;yBACiB,IAAI;QAGzC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAC,IAAmB;YAClD,IAAI,CAAC,IAAI,EAAE;gBACP,OAAO;aACV;YACD,IAAI,KAAI,CAAC,aAAa,EAAE;gBACpB,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC;aACvB;iBAAM;gBACH,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;aAC/B;YACD,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;SAC3C,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,IAAmB;YACrD,IAAI,KAAI,CAAC,eAAe,EAAE;gBACtB,IAAI,IAAI,EAAE;oBACN,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;oBAC9B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACvC;qBAAM;oBACH,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,SAAS,CAAC;oBAClC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;iBAC3C;aACJ;SACJ,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,SAAS,CAAC;YACtC,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;SACzC,CAAC,CAAC;QAEH,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC3B,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,UAAA,KAAK;gBACrC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,KAAI,CAAC,WAAW,KAAK,KAAK,EAAE;oBAC7C,IAAI,KAAI,CAAC,SAAS,KAAK,KAAK,EAAE;wBAC1B,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;qBAChC;oBACD,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;iBAC1B;aACJ,CAAC,CAAC;SACN;KACJ;;;;;IAGM,+BAAY;;;;cAAC,KAAU;QAC1B,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,OAAO,EAAE;;YAEnF,OAAO;SACV;QAED,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,EAAE;YACtD,KAAK,CAAC,cAAc,EAAE,CAAC;SAC1B;aACI,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,EAAE;YAC/B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACzC;aACI,IAAI,KAAK,CAAC,OAAO,KAAK,MAAM,EAAE;YAC/B,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;gBACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC1B,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;gBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;gBACxB,KAAK,CAAC,cAAc,EAAE,CAAC;aAC1B;SACJ;;;;;;IAIE,+BAAY;;;;cAAC,KAAU;QAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;;;;;;IAInB,iCAAc;;;;cAAC,KAAU;QAC5B,qBAAM,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,KAAK,CAAC;QAC7C,IAAI,OAAO,KAAK,MAAM,EAAE;YACpB,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE;gBACjC,KAAK,CAAC,cAAc,EAAE,CAAC;aAC1B;YACD,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;YAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;SAC5B;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;YAC3B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;SAC5B;aAAM,IAAI,OAAO,KAAK,OAAO,EAAE;YAC5B,IAAI,CAAC,eAAe,EAAE,CAAC;SAC1B;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;aAAM,IAAI,OAAO,KAAK,MAAM,EAAE;;;YAG3B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;gBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;aAC3B;SACJ;aAAM;YACH,IAAI,OAAO,KAAK,CAAC,IAAI,OAAO,KAAK,MAAM,IAAI,OAAO,KAAK,MAAM;iBACxD,OAAO,IAAI,MAAM,IAAI,OAAO,IAAI,OAAO,CAAC;gBACzC,CAAC,KAAK,CAAC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,CAAC,KAAK,CAAC,MAC/C,EAAE;gBACE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;aACzB;SACJ;;;;;;IAIE,yBAAM;;;;cAAC,KAAU;;;QAEpB,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,EAAE;YAC/B,UAAU,CACN;;;gBAEI,KAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACjC,EACD,CAAC,CACJ,CAAC;YACF,OAAO;SACV;QAED,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;YACvB,IAAI,CAAC,SAAS,GAAGY,WAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAACC,cAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,cAAM,OAAA,KAAI,CAAC,MAAM,EAAE,GAAA,CAAC,CAAC;SAC5E;;;;;IAIE,0BAAO;;;;QACV,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;SAClC;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;;;;;;IAIE,0BAAO;;;;cAAC,KAAU;QACrB,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;SAClC;QAED,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;aAC1B;iBAAM;gBACH,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;aACzB;SACJ;;0BAGM,+BAAS;;;;;YAChB,OAAO,IAAI,CAAC,UAAU,CAAC;;;;;;kBAGN,IAAY;YAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;;;;;;;IAGpB,kCAAe;;;;QACnB,IAAI,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE;YACjC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;SAClC;aAAM,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC/B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;SAC9E;aAAM;YACH,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;gBACrD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC3C;YACD,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SAC1B;;;;;IAGG,qCAAkB;;;;QACtB,IAAI,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,EAAE;gBACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC;gBAClC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC3C;SACJ;;;;;IAGG,yBAAM;;;;QACV,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;QAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;SAC9E;aAAM;YACH,IAAI,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;gBACrD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC3C;iBAAM;gBACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC7B;SACJ;QAED,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;;;gBAjO9BN,cAAS,SAAC;oBACP,QAAQ,EAAE,YAAY;iBACzB;;;;gBApBQ,YAAY,uBAqCHE,SAAI;gBA3CbK,aAAO;gBADIJ,eAAU;;;kCA6BzBK,UAAK,SAAC,eAAe;oCACrBA,UAAK,SAAC,iBAAiB;sCACvBA,UAAK,SAAC,mBAAmB;oCACzBA,UAAK,SAAC,iBAAiB;gCACvBA,UAAK,SAAC,aAAa;gCACnBA,UAAK,SAAC,aAAa;kCACnBA,UAAK,SAAC,eAAe;kCACrBA,UAAK,SAAC,eAAe;kCAErBP,WAAM;iCA+CNG,iBAAY,SAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;iCAwBhCA,iBAAY,SAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;mCAKhCA,iBAAY,SAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;2BAoClCA,iBAAY,SAAC,MAAM,EAAE,CAAC,QAAQ,CAAC;4BAmB/BA,iBAAY,SAAC,OAAO,EAAE,EAAE;4BAgBxBA,iBAAY,SAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;;mBAzLrC;;;;;;;ACAA,IAWA;IACI,wBACW,SACA,WACA,mBACA;QAHA,YAAO,GAAP,OAAO;QACP,cAAS,GAAT,SAAS;QACT,sBAAiB,GAAjB,iBAAiB;QACjB,WAAM,GAAN,MAAM;KACZ;yBAjBT;IAkBC,CAAA;AAPD;IA6BI,iBACoB,WACR,aACA,eACA;QAHQ,cAAS,GAAT,SAAS;QACjB,gBAAW,GAAX,WAAW;QACX,kBAAa,GAAb,aAAa;QACb,OAAE,GAAF,EAAE;sCApB2B,iBAAiB;4BAC3B,KAAK;gCACD,KAAK;oCACD,KAAK;uCACF,IAAI;oBAIhB,IAAI;2BAES,IAAI;0BACL,IAAI;mBAChC,IAAI,cAAc,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;6BAC5B,IAAI;uBACyB,IAAI;KAMxB;;;;IAE/B,0BAAQ;;;;QACX,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAChD,IAAI,CAAC,WAAW,EAChB,IAAI,cAAc,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAC9C,CAAC;;0BAIK,gCAAW;;;;;kBAAC,UAAyB;YAC5C,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;YAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;;;;;0BAIrB,iCAAY;;;;;kBAAC,KAAU;;YAC9B,IAAI,IAAI,CAAC,YAAY,IAAI,OAAO,IAAI,CAAC,YAAY,CAAC,aAAa,KAAK,UAAU,EAAE;gBAC5E,UAAU,CAAC;oBACP,qBAAM,WAAW,sBAAG,KAAI,CAAC,YAAY,CAAC,aAAa,GAAE,KAAK,CAAC,CAAC;oBAC5D,IAAI,WAAW,EAAE;wBACb,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;qBACjD;iBACJ,CAAC,CAAC;aACN;iBAAM,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;gBAC3B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC9B;;;;;;;;;IAGE,wBAAM;;;;cAAC,IAAY;;QACtB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;YAClF,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;gBAC/B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;gBACrB,IAAI,IAAI,CAAC,uBAAuB,EAAE;oBAC9B,IAAI,CAAC,GAAG,CAAC,OAAO,GAAG,EAAE,CAAC;iBACzB;gBACD,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;gBAC1B,IAAI,CAAC,GAAG,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,eAAe,EAAE,CAAC;aAC1B;YACD,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;aACjC;YACD,IAAI,CAAC,WAAW,GAAGC,WAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAACC,cAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBAChE,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;aAClC,CAAC,CAAC;SACN;aAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,sBAAsB,EAAE;YAClE,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;SAClB;;;;;IAGE,uBAAK;;;;;QACR,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;SAClC;QACD,IAAI,CAAC,UAAU,GAAGD,WAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAACC,cAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC3D,KAAI,CAAC,MAAM,EAAE,CAAC;SACjB,CAAC,CAAC;;;;;IAGA,sBAAI;;;;QACP,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE;YAC7B,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SACnB;QACD,IAAI,CAAC,eAAe,EAAE,CAAC;;;;;;IAGpB,wBAAM;;;;cAAC,IAAa;QACvB,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;;;;;IAGnB,wBAAM;;;;QACV,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YAC/B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;SAC7B;QAED,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;;;;;IAGhB,qCAAmB;;;;cAAC,IAAY;;QAEpC,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,sBAAsB,EAAE;YAC1D,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,OAAO;SACV;QACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;;;;IAG3B,iCAAe;;;;;QAEnB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAChD,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,GAAG,CACX,CAAC;SACL;aAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;;;YAEhC,IAAI,CAAC,OAAO,GAAE,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM;cAC9C,IAAI,CAAC,OAAO,GAAE,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO;cAChD,IAAI,CAAC,OAAO,GAAE,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS;cACpD,IAAI,CAAC,OAAO,GAAE,OAAO,CAAC,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,iBAAiB;YACpE,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;SAChC;QACD,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;;;;;IAGnB,mCAAiB;;;;;QACrB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACjC,OAAO,IAAI,CAAC;SACf;;QAGD,qBAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,wBAAK,KAAI,CAAC,IAAI,GAAE,iBAAiB,EAAE,GAAA,CAAC,CAAC;;QAEhH,IAAI,SAAS,GAAG,CAAC,EAAE;YACf,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,UAAU,oBAAC,KAAI,CAAC,IAAI,GAAE,iBAAiB,GAAG,GAAA,CAAC,CAAC;SACvH;;QAED,IAAI,SAAS,GAAG,CAAC,EAAE;YACf,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,oBAAC,KAAI,CAAC,IAAI,GAAE,iBAAiB,GAAG,GAAA,CAAC,CAAC;SACrH;QAED,OAAO,SAAS,GAAG,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC;;;;;IAGpC,sCAAoB;;;;;QACxB,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAClBX,oBAAU,CAAC,UAAA,GAAG;gBACV,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACnB,OAAO,CAAC,KAAK,CAAC,yFAAyF,CAAC,CAAC;gBACzG,OAAO,EAAE,CAAC;aACb,CAAC,CACL;iBACI,SAAS,CAAC,UAAA,OAAO;gBACd,KAAI,CAAC,GAAG,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAClC,KAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;gBAC3B,KAAI,CAAC,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC;gBAE3B,IAAI,KAAI,CAAC,gBAAgB,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC;oBACjG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,iBAAiB,EAAE,wBAAK,KAAI,CAAC,IAAI,GAAE,iBAAiB,EAAE,EAAE;;;oBAEzE,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;oBACtC,OAAO;iBACV;gBAED,IAAI,KAAI,CAAC,aAAa,EAAE;oBACpB,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC;oBACvC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;iBAC7B;gBAED,KAAI,CAAC,eAAe,EAAE,CAAC;gBAEvB,IAAI,KAAI,CAAC,oBAAoB,EAAE;oBAC3B,KAAI,CAAC,SAAS,CAAC,kBAAkB,GAAG,KAAI,CAAC,iBAAiB,EAAE,CAAC;iBAChE;aACJ,CAAC,CAAC;YAEP,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE;gBACpC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,SAAS,CAAC;oBACzC,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;oBACjB,KAAI,CAAC,GAAG,CAAC,iBAAiB,GAAG,KAAK,CAAC;oBACnC,KAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;oBAC3B,KAAI,CAAC,GAAG,CAAC,OAAO,GAAG,EAAE,CAAC;oBACtB,KAAI,CAAC,eAAe,EAAE,CAAC;oBACvB,KAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;iBACvC,CAAC,CAAC;aACN;SACJ;;;gBA3MRK,cAAS,SAAC;oBACP,QAAQ,EAAE,WAAW;iBACxB;;;;gBAjBQ,YAAY,uBAoCZE,SAAI;gBAzCgEO,gBAAW;gBAAEC,qBAAgB;gBAAjGC,sBAAiB;;;2CAwBrBH,UAAK;iCACLA,UAAK;qCACLA,UAAK;yCACLA,UAAK;4CACLA,UAAK;gCA0BLA,UAAK,SAAC,SAAS;iCAMfA,UAAK,SAAC,qBAAqB;;kBA5DhC;;;;;;;ACAA;IAcI,gBAAoB,EAAc,EAAU,QAAkB,EAAkB;QAA5D,OAAE,GAAF,EAAE,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAU;QAAkB,aAAQ,GAAR,QAAQ;wBAJrE,KAAK;KAIkF;;;;IAEnG,4BAAW;;;;QACd,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAC/C;;0BAID,0BAAM;;;;;kBAAC,KAAa;YACpB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;;;;;0BAIhE,4BAAQ;;;;;kBAAC,IAAmB;YAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;;;;;;;;;IAGoB,wBAAO;;;;cAAC,KAAU;QACxD,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;;;;;IAGM,6BAAY;;;;cAAC,KAAU;QAClE,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;;;;;IAGD,4BAAW;;;;cAAC,KAAU;QAChE,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;;;;;;IAG1B,+BAAc;;;;cAAC,QAAiB;QACnC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,wBAAwB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;;;;;IAG3F,iCAAgB;;;;QACnB,OAAO,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;;;;;IAG1B,4BAAW;;;;QACd,OAAO,IAAI,CAAC,KAAK,CAAC;;;gBAlDzBR,cAAS,SAAC;oBACP,QAAQ,EAAE,UAAU;iBACvB;;;;gBAPmBG,eAAU;gBAA6BS,aAAQ;gBAG1D,WAAW,uBAWiDV,SAAI;;;2BAQpEM,UAAK;6BAMLA,UAAK;4BAKLJ,iBAAY,SAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;iCAIhCA,iBAAY,SAAC,YAAY,EAAE,CAAC,QAAQ,CAAC;gCAIrCA,iBAAY,SAAC,WAAW,EAAE,CAAC,QAAQ,CAAC;;iBAzCzC;;;;;;;ACAA,YAAY,CAAC;;;;;;;qBAoBmB,EAAE;;;;;IACvB,uCAAQ;;;;QACX,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACjB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;YACrD,OAAO;SACV;QACD,qBAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;QACvC,qBAAI,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC;QAC9D,qBAAI,UAAU,GAAG,CAAC,CAAC;QACnB,OAAO,QAAQ,IAAI,CAAC,EAAE;YAClB,qBAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC5E,IAAI,QAAQ,KAAK,CAAC,EAAE;gBAChB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;gBACpD,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;aACvC;iBAAM,IAAI,QAAQ,GAAG,CAAC,EAAE;gBACrB,qBAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;gBACtD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;gBACrD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;gBACpD,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;aAC1D;YACD,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,UAAU,CAAC,CAAC;SACzE;QACD,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SAC5F;;;gBApCRS,cAAS,SAAC;oBACP,QAAQ,EAAE,qBAAqB;oBAC/B,QAAQ,EAAE,gTAEF;iBACX;;;;;yBAEIL,UAAK;8BACLA,UAAK;+BACLA,UAAK;yBACLA,UAAK;;+BAlBV;;;;;;;ACAA,YAAY,CAAC;AACb,IAWM,IAAI,GAAG;IACT,OAAO;CACV,CAAC;IAEI,gCAAgC,GAAG;IACrC,KAAK,EAAE,IAAI;IACX,OAAO,EAAEM,uBAAiB;IAC1B,WAAW,EAAEC,eAAU,CAAC,cAAM,OAAA,YAAY,GAAA,CAAC;CAC9C,CAAC;;IA6JE,sBAAoB,gBAAkC,EAAU,GAAsB;QAAlE,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,QAAG,GAAH,GAAG,CAAmB;yBA/C1D,EAAE;uBACI,EAAE;qBACZ,KAAK;+BACK,iBAAiB;wBACxB,SAAS;iCACA,KAAK;6BACT,KAAK;+BACH,KAAK;+BACL,IAAI;2BACR,EAAE;yBAGJ,KAAK;4BACF,KAAK;yBAER,KAAK;2BACH,KAAK;2BACL,KAAK;6BACH,KAAK;6BACL,KAAK;6BAEL,KAAK;wBAET,IAAItB,iBAAY,EAAiB;2BAC9B,IAAIA,iBAAY,EAAiB;yBAC7B,IAAIA,iBAAY,EAAQ;qBAClC,IAAIA,iBAAY,EAAQ;0BACZ,IAAIA,iBAAY,EAAQ;sBACnC,IAAIA,iBAAY,EAAW;qBACT,IAAIA,iBAAY,EAAE;uBAChB,IAAIA,iBAAY,EAAE;uBAK/C,IAAIuB,iBAAW,CAAC,EAAE,CAAC;gCACV,IAAI;gCACJ,IAAI;8BACN,eAAe;8BACf,cAAc;kCAEG,IAAI;iCACC,IAAI;sBACxB,KAAK;qBACN,KAAK;0BACT,EAAE;KAEoE;0BAEhF,+BAAK;;;;sBAAU,OAAO,IAAI,CAAC,SAAS,CAAC;;;;;kBAE/B,CAAM;YACnB,IAAI,CAAC,KAAK,IAAI,CAAC,SAAS,EAAE;gBACtB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;aACtB;;YAED,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;;;;;;0BAGnB,mCAAS;;;;;YAChB,OAAO,IAAI,CAAC,UAAU,CAAC;;;;;;kBAGN,KAAa;YAC9B,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;gBAC3C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aAC3B;iBAAM;gBACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;aAC3C;;;;;;;;IAGE,sCAAe;;;;QAClB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;;;;;IAGE,yCAAkB;;;;;QACrB,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,UAAU,CACN;gBACI,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;gBACpC,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACvB,EACD,CAAC,CACJ,CAAC;SACL;;;;;IAGE,gCAAS;;;;QACZ,IAAI,CAAC,kBAAkB,EAAE,CAAC;;;;;;IAGvB,iCAAU;;;;cAAC,KAAU;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;;;;;;IAGpB,uCAAgB;;;;cAAC,EAAO;QAC3B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;;;;;;IAGzB,wCAAiB;;;;cAAC,EAAO;QAC5B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;;;;;;IAG1B,uCAAgB;;;;cAAC,UAAmB;QACvC,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;;0BAIxB,oCAAU;;;;;kBAAC,MAAsC;YACxD,IAAI,MAAM,EAAE;gBACR,IAAI,MAAM,YAAY,KAAK,EAAE;oBACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBAC1D;qBAAM,IAAI,QAAQ,MAAM,CAAC,KAAK,QAAQ,EAAE;oBACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;iBAC3D;qBAAM;oBACH,IAAI,CAAC,WAAW,qBAAG,MAAuB,CAAA,CAAC;iBAC9C;aACJ;;;;;0BAIM,uCAAa;;;;;kBAAC,IAAY;YACjC,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;gBAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,CAAC;aACpF;;;;;0BAIM,uCAAa;;;;;kBAAC,IAAY;YACjC,IAAI,IAAI,CAAC,cAAc,KAAK,IAAI,EAAE;gBAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,CAAC;aACpF;;;;;;;;IAGE,+BAAQ;;;;;QACX,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAC,IAAmB;YAClD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5B,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,IAAmB;YACrD,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,UAAC,MAAe;YAC5C,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC;YACpB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC,CAAC;;;;;IAGA,6BAAM;;;;QACT,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;;;;;IAGtB,8BAAO;;;;QACV,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;;;;;;IAGd,8BAAO;;;;cAAC,KAAU;QACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;;;;;;IAGd,8BAAO;;;;cAAC,KAAU;QACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvB,KAAK,CAAC,eAAe,EAAE,CAAC;;;;;;IAGrB,gCAAS;;;;cAAC,KAAU;QACvB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzB,KAAK,CAAC,eAAe,EAAE,CAAC;;;;;;IAGrB,+BAAQ;;;;cAAC,KAAa;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;IAGhB,2BAAI;;;;QACP,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;;;;;IAGnB,4BAAK;;;;QACR,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;;;;;IAGpB,4BAAK;;;;QACR,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SACvC;aAAM;YACH,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;;;;;IAGE,2BAAI;;;;QACP,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SACtC;aAAM;YACH,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvB;;;;;IAGE,6BAAM;;;;QACT,OAAO,IAAI,CAAC,KAAK,CAAC;;;gBAzTzBH,cAAS,SAAC;oBACP,QAAQ,EAAE,eAAe;oBACzB,QAAQ,EAAE,6nHAoDT;oBACD,MAAM,EAAE,CAAC,y/BA+CR,CAAC;oBACF,SAAS,EAAE,CAAC,gCAAgC,CAAC;iBAChD;;;;gBAzHQ,gBAAgB;gBALEF,sBAAiB;;;gCAgIvCH,UAAK;8BACLA,UAAK;4BACLA,UAAK;0BACLA,UAAK;oCACLA,UAAK;6BACLA,UAAK;sCACLA,UAAK;kCACLA,UAAK;oCACLA,UAAK;oCACLA,UAAK;gCACLA,UAAK;+BACLA,UAAK;kCACLA,UAAK;8BACLA,UAAK;iCACLA,UAAK;+BACLA,UAAK;8BACLA,UAAK;gCACLA,UAAK;gCACLA,UAAK;kCACLA,UAAK;kCACLA,UAAK;iCACLA,UAAK;kCACLA,UAAK;6BAELP,WAAM;gCACNA,WAAM;8BACNA,WAAM,SAAC,MAAM;0BACbA,WAAM;+BACNA,WAAM,SAAC,OAAO;2BACdA,WAAM;0BACNA,WAAM;4BACNA,WAAM;8BAENgB,cAAS,SAAC,YAAY;6BACtBA,cAAS,SAAC,UAAU;+BA4EpBT,UAAK;kCAaLA,UAAK;kCAQLA,UAAK;;uBApQV;;;;;;;ACAA,IAiBM,SAAS,GAAG;IACd,gBAAgB;IAChB,gBAAgB;IAChB,iBAAiB;CACpB,CAAC;;;;;;;IA8BgB,0BAAO;;;;QACjB,OAAO;YACH,QAAQ,EAAE,kBAAkB;YAC5B,SAAS,WAAA;SACZ,CAAC;;;;;IAGQ,2BAAQ;;;;QAClB,OAAO;YACH,QAAQ,EAAE,kBAAkB;YAC5B,SAAS,WAAA;SACZ,CAAC;;;gBAvCTU,aAAQ,SAAC;oBACN,YAAY,EAAE;wBACV,oBAAoB;wBACpB,YAAY;wBACZ,WAAW;wBACX,QAAQ;wBACR,OAAO;wBACP,MAAM;wBACN,YAAY;qBACf;oBACD,OAAO,EAAE;wBACL,oBAAoB;wBACpB,YAAY;wBACZ,WAAW;wBACX,QAAQ;wBACR,OAAO;wBACP,MAAM;wBACN,YAAY;qBACf;oBACD,OAAO,EAAE;wBACLC,mBAAY;wBACZC,iBAAW;wBACXC,qBAAgB;qBACnB;oBACD,SAAS,WAAA;iBACZ;;;;6BAhDD;;;;;;;;;;;;;;;;;;;;;;;;;;;"}